23:10:19.340 [XNIO-1 task-4]  VQxBjUFhTSaH2fltsTuyig DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.340 [XNIO-1 task-4]  VQxBjUFhTSaH2fltsTuyig DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:19.340 [XNIO-1 task-4]  VQxBjUFhTSaH2fltsTuyig DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.341 [XNIO-1 task-4]  VQxBjUFhTSaH2fltsTuyig DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:19.346 [XNIO-1 task-4]  VQxBjUFhTSaH2fltsTuyig DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:19.346 [XNIO-1 task-4]  VQxBjUFhTSaH2fltsTuyig INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.399 [XNIO-1 task-4]  l2WnoVgIRLyFrkjt7zLi-w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.399 [XNIO-1 task-4]  l2WnoVgIRLyFrkjt7zLi-w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.399 [XNIO-1 task-4]  l2WnoVgIRLyFrkjt7zLi-w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.399 [XNIO-1 task-4]  l2WnoVgIRLyFrkjt7zLi-w DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = Fwx0AuWpR_mxVP0HxIs7-g redirectUri = http://localhost:8080/authorization
23:10:19.405 [XNIO-1 task-4]  l2WnoVgIRLyFrkjt7zLi-w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:19.417 [hz._hzInstance_1_dev.partition-operation.thread-4]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:b05269c5
23:10:19.418 [hz._hzInstance_1_dev.partition-operation.thread-4]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:b05269c5
23:10:19.432 [XNIO-1 task-4]  A0U8fFOqRUqTtOga_iXkrw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.432 [XNIO-1 task-4]  A0U8fFOqRUqTtOga_iXkrw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.432 [XNIO-1 task-4]  A0U8fFOqRUqTtOga_iXkrw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.432 [XNIO-1 task-4]  A0U8fFOqRUqTtOga_iXkrw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = a035a30f-51e9-4696-a557-f797e44ead88 scope = null
23:10:19.439 [hz._hzInstance_1_dev.partition-operation.thread-13]   DEBUG c.networknt.oauth.cache.UserMapStore load - Load:f20ba5d9
23:10:19.443 [XNIO-1 task-4]  A0U8fFOqRUqTtOga_iXkrw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.451 [hz._hzInstance_1_dev.partition-operation.thread-13]   DEBUG c.networknt.oauth.cache.UserMapStore load - Load:f20ba5d9
23:10:19.464 [XNIO-1 task-4]  di56jbFCT5GA2qWD6Tz_3g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.464 [XNIO-1 task-4]  di56jbFCT5GA2qWD6Tz_3g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.464 [XNIO-1 task-4]  di56jbFCT5GA2qWD6Tz_3g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.464 [XNIO-1 task-4]  di56jbFCT5GA2qWD6Tz_3g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = f0704265-7bb3-4e4f-af75-6756bfc64eb3 scope = null
23:10:19.476 [XNIO-1 task-4]  di56jbFCT5GA2qWD6Tz_3g INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.496 [hz._hzInstance_1_dev.partition-operation.thread-4]   DEBUG c.n.oauth.cache.ServiceMapStore delete - Delete:b05269c5
Jun 28, 2024 11:10:19 PM com.hazelcast.map.impl.operation.DeleteOperation
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	... 14 more

	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
23:10:19.514 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.networknt.oauth.cache.UserMapStore store - Store:4351f5d3
23:10:19.524 [hz._hzInstance_1_dev.partition-operation.thread-2]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:d199c8e8-1642-406a-977a-daae173ebc2f
23:10:19.525 [hz._hzInstance_1_dev.partition-operation.thread-2]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:d199c8e8-1642-406a-977a-daae173ebc2f
23:10:19.540 [XNIO-1 task-4]  T0JHfM8VTyumsg7oSS1x7A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.540 [XNIO-1 task-4]  T0JHfM8VTyumsg7oSS1x7A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.540 [XNIO-1 task-4]  T0JHfM8VTyumsg7oSS1x7A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.540 [XNIO-1 task-4]  T0JHfM8VTyumsg7oSS1x7A DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = -P8Jjm-TSRiOB60slTpLKw redirectUri = http://localhost:8080/authorization
23:10:19.546 [XNIO-1 task-4]  T0JHfM8VTyumsg7oSS1x7A DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:19.569 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.networknt.oauth.cache.UserMapStore delete - Delete:4351f5d3
23:10:19.585 [XNIO-1 task-4]  0mcEmFOgRDKB1g7cnF7R1g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.585 [XNIO-1 task-4]  0mcEmFOgRDKB1g7cnF7R1g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.585 [XNIO-1 task-4]  0mcEmFOgRDKB1g7cnF7R1g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.585 [XNIO-1 task-4]  0mcEmFOgRDKB1g7cnF7R1g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 2OciY8cfTXmm1V7zS8cqJA redirectUri = http://localhost:8080/authorization
23:10:19.590 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore store - Store:8a49e6ce
23:10:19.591 [XNIO-1 task-4]  0mcEmFOgRDKB1g7cnF7R1g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:19.595 [XNIO-1 task-4]  0mcEmFOgRDKB1g7cnF7R1g INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.621 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.ServiceMapStore store - Store:b3800ec8
23:10:19.648 [XNIO-1 task-4]  1O0eaDmgRqOmdJKZvZiwtA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.649 [XNIO-1 task-4]  1O0eaDmgRqOmdJKZvZiwtA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:19.649 [XNIO-1 task-4]  1O0eaDmgRqOmdJKZvZiwtA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.649 [XNIO-1 task-4]  1O0eaDmgRqOmdJKZvZiwtA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:19.654 [XNIO-1 task-4]  1O0eaDmgRqOmdJKZvZiwtA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:19.654 [XNIO-1 task-4]  1O0eaDmgRqOmdJKZvZiwtA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.679 [XNIO-1 task-4]  F_HGTfBlRTq5yYnXPFbVqQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.680 [XNIO-1 task-4]  F_HGTfBlRTq5yYnXPFbVqQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.680 [XNIO-1 task-4]  F_HGTfBlRTq5yYnXPFbVqQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.680 [XNIO-1 task-4]  F_HGTfBlRTq5yYnXPFbVqQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = WhM8IaycS82xw72hzFEn3Q redirectUri = http://localhost:8080/authorization
23:10:19.685 [XNIO-1 task-4]  F_HGTfBlRTq5yYnXPFbVqQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:19.697 [XNIO-1 task-4]  xufTNmKfSzCLLWkgYq7YRA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.697 [XNIO-1 task-4]  xufTNmKfSzCLLWkgYq7YRA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:19.698 [XNIO-1 task-4]  xufTNmKfSzCLLWkgYq7YRA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.698 [XNIO-1 task-4]  xufTNmKfSzCLLWkgYq7YRA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzUxMmU4OTctOGQyNi00N2FmLThhYWYtYTliNjQwYmI4MjU3OjAxMW8tNHU0UURlU2JvTUZTTkMyb1E=", "Basic MzUxMmU4OTctOGQyNi00N2FmLThhYWYtYTliNjQwYmI4MjU3OjAxMW8tNHU0UURlU2JvTUZTTkMyb1E=", authorization)
23:10:19.699 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:f921c0c9-12eb-4b8a-8cbe-dbed426d88f0
23:10:19.708 [XNIO-1 task-4]  xufTNmKfSzCLLWkgYq7YRA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.745 [XNIO-1 task-4]  I_5MmoyGSeK3H9-0NuceBg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.745 [XNIO-1 task-4]  I_5MmoyGSeK3H9-0NuceBg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.745 [XNIO-1 task-4]  I_5MmoyGSeK3H9-0NuceBg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.745 [XNIO-1 task-4]  I_5MmoyGSeK3H9-0NuceBg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = irECC5oiSvCEBewQbp-Mag redirectUri = http://localhost:8080/authorization
23:10:19.752 [XNIO-1 task-4]  I_5MmoyGSeK3H9-0NuceBg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:19.762 [XNIO-1 task-4]  5xl-RBUZT2eQmAG_oBx_sw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.762 [XNIO-1 task-4]  5xl-RBUZT2eQmAG_oBx_sw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:19.762 [XNIO-1 task-4]  5xl-RBUZT2eQmAG_oBx_sw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.762 [XNIO-1 task-4]  5xl-RBUZT2eQmAG_oBx_sw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", authorization)
23:10:19.769 [hz._hzInstance_1_dev.partition-operation.thread-13]   DEBUG c.networknt.oauth.cache.UserMapStore delete - Delete:f20ba5d9
23:10:19.777 [XNIO-1 task-4]  5xl-RBUZT2eQmAG_oBx_sw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.781 [hz._hzInstance_1_dev.partition-operation.thread-3]   DEBUG c.n.oauth.cache.RefreshTokenMapStore store - Store:066e4ec3-0795-41df-ba7a-8bf53d1658e5
23:10:19.905 [XNIO-1 task-4]  H1SeYpnARm6Ml5KTnjCnUg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.906 [XNIO-1 task-4]  H1SeYpnARm6Ml5KTnjCnUg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:19.906 [XNIO-1 task-4]  H1SeYpnARm6Ml5KTnjCnUg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.906 [XNIO-1 task-4]  H1SeYpnARm6Ml5KTnjCnUg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:19.912 [XNIO-1 task-4]  H1SeYpnARm6Ml5KTnjCnUg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:19.912 [XNIO-1 task-4]  H1SeYpnARm6Ml5KTnjCnUg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.943 [XNIO-1 task-4]  RR6ytoBVSuiez_EWik84Zw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.943 [XNIO-1 task-4]  RR6ytoBVSuiez_EWik84Zw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.944 [XNIO-1 task-4]  RR6ytoBVSuiez_EWik84Zw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.944 [XNIO-1 task-4]  RR6ytoBVSuiez_EWik84Zw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = pOKv2hFJT1eKMz0TjGG_pA redirectUri = http://localhost:8080/authorization
23:10:19.951 [XNIO-1 task-4]  RR6ytoBVSuiez_EWik84Zw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:19.975 [XNIO-1 task-4]  L_UARrWrRAegCAMIQdEXsw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.975 [XNIO-1 task-4]  L_UARrWrRAegCAMIQdEXsw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:19.975 [XNIO-1 task-4]  L_UARrWrRAegCAMIQdEXsw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:19.975 [XNIO-1 task-4]  L_UARrWrRAegCAMIQdEXsw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", authorization)
23:10:19.982 [XNIO-1 task-4]  L_UARrWrRAegCAMIQdEXsw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:19.982 [XNIO-1 task-4]  L_UARrWrRAegCAMIQdEXsw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:19.984 [XNIO-1 task-3]  OQW6o2EAQX-9u8GBUpcHIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.984 [XNIO-1 task-3]  OQW6o2EAQX-9u8GBUpcHIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.984 [XNIO-1 task-3]  OQW6o2EAQX-9u8GBUpcHIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:19.985 [XNIO-1 task-3]  OQW6o2EAQX-9u8GBUpcHIA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 1ClZjZszTBaQgUVVgNWL0A redirectUri = http://localhost:8080/authorization
23:10:19.995 [XNIO-1 task-3]  OQW6o2EAQX-9u8GBUpcHIA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.034 [hz._hzInstance_1_dev.partition-operation.thread-2]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:d199c8e8-1642-406a-977a-daae173ebc2f
23:10:20.037 [XNIO-1 task-3]  D1E2Me1NRgmJ218SJyxr_w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.037 [XNIO-1 task-3]  D1E2Me1NRgmJ218SJyxr_w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.038 [XNIO-1 task-3]  D1E2Me1NRgmJ218SJyxr_w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.038 [XNIO-1 task-3]  D1E2Me1NRgmJ218SJyxr_w DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 7N2hH24XQfqhGwigOehabQ redirectUri = http://localhost:8080/authorization
23:10:20.044 [XNIO-1 task-3]  D1E2Me1NRgmJ218SJyxr_w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.090 [XNIO-1 task-3]  q86bxbgGTE-UN3tYpoCnqw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.090 [XNIO-1 task-3]  q86bxbgGTE-UN3tYpoCnqw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.091 [XNIO-1 task-3]  q86bxbgGTE-UN3tYpoCnqw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.091 [XNIO-1 task-3]  q86bxbgGTE-UN3tYpoCnqw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZDBlN2JjOTMtMWVkNy00ZGJkLTg2MTMtMWFiYjVlNWNhMDljOktnYTdiY2FzVFVtaVB5T2tpSm9hcHc=", "Basic ZDBlN2JjOTMtMWVkNy00ZGJkLTg2MTMtMWFiYjVlNWNhMDljOktnYTdiY2FzVFVtaVB5T2tpSm9hcHc=", authorization)
23:10:20.097 [XNIO-1 task-3]  q86bxbgGTE-UN3tYpoCnqw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:20.103 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.ServiceMapStore store - Store:b3800ec8
23:10:20.105 [XNIO-1 task-3]  FizxEClaQDSVACkPe3zl5Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.106 [XNIO-1 task-3]  FizxEClaQDSVACkPe3zl5Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.106 [XNIO-1 task-3]  FizxEClaQDSVACkPe3zl5Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.106 [XNIO-1 task-3]  FizxEClaQDSVACkPe3zl5Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:20.112 [XNIO-1 task-3]  FizxEClaQDSVACkPe3zl5Q DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:20.112 [XNIO-1 task-3]  FizxEClaQDSVACkPe3zl5Q INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.121 [XNIO-1 task-3]  kcUX_H6kQn2a62WSZorStQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.121 [XNIO-1 task-3]  kcUX_H6kQn2a62WSZorStQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.121 [XNIO-1 task-3]  kcUX_H6kQn2a62WSZorStQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.121 [XNIO-1 task-3]  kcUX_H6kQn2a62WSZorStQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 6TEY1daPQre0xQ96wPwAgw redirectUri = http://localhost:8080/authorization
23:10:20.124 [XNIO-1 task-4]  nfL_04VsTYe5on7kD9oDrA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.124 [XNIO-1 task-4]  nfL_04VsTYe5on7kD9oDrA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.124 [XNIO-1 task-4]  nfL_04VsTYe5on7kD9oDrA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.125 [XNIO-1 task-4]  nfL_04VsTYe5on7kD9oDrA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = fe78823f-864e-4662-87e8-3054ef1e52be scope = null
23:10:20.127 [XNIO-1 task-3]  kcUX_H6kQn2a62WSZorStQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:20.127 [XNIO-1 task-3]  kcUX_H6kQn2a62WSZorStQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.128 [hz._hzInstance_1_dev.partition-operation.thread-5]   DEBUG c.networknt.oauth.cache.UserMapStore load - Load:69cd96f3
com.networknt.exception.ApiException: {"statusCode":404,"code":"ERR12029","message":"REFRESH_TOKEN_NOT_FOUND","description":"Refresh token fe78823f-864e-4662-87e8-3054ef1e52be is not found.","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:120)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:20.136 [XNIO-1 task-4]  SlQdp1tITOWA8Xtx5Dgwyg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.137 [XNIO-1 task-4]  SlQdp1tITOWA8Xtx5Dgwyg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.137 [XNIO-1 task-4]  SlQdp1tITOWA8Xtx5Dgwyg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.138 [XNIO-1 task-4]  SlQdp1tITOWA8Xtx5Dgwyg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", authorization)
23:10:20.144 [XNIO-1 task-4]  SlQdp1tITOWA8Xtx5Dgwyg ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRefreshToken(Oauth2TokenPostHandler.java:461)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
23:10:20.152 [XNIO-1 task-4]  AFralsCDR5amDcu0SwWrgQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", authorization)
23:10:20.152 [XNIO-1 task-4]  AFralsCDR5amDcu0SwWrgQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 6b5edfa8-b568-4db3-9f4c-a482f8148ca3 scope = null
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRefreshToken(Oauth2TokenPostHandler.java:461)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	... 14 more

	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.165 [hz._hzInstance_1_dev.partition-operation.thread-9]   DEBUG c.n.oauth.cache.ClientMapStore store - Store:103f6ed2-9470-4e7f-af9b-aae9d9282004
23:10:20.172 [XNIO-1 task-4]  RlVjHZiwRjizRvlYFZvRTQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.172 [XNIO-1 task-4]  RlVjHZiwRjizRvlYFZvRTQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.172 [XNIO-1 task-4]  RlVjHZiwRjizRvlYFZvRTQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.172 [XNIO-1 task-4]  RlVjHZiwRjizRvlYFZvRTQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:20.174 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.o.cache.ServiceEndpointMapStore delete - Delete:b3800ec8
23:10:20.180 [XNIO-1 task-4]  RlVjHZiwRjizRvlYFZvRTQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:20.181 [XNIO-1 task-4]  RlVjHZiwRjizRvlYFZvRTQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.189 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.ClientMapStore store - Store:3da01439-ca85-4fe4-bab3-12dc3986499c
23:10:20.209 [XNIO-1 task-4]  IN45KvZ4RYmp8MxRUMtO8w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.209 [XNIO-1 task-4]  IN45KvZ4RYmp8MxRUMtO8w DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.209 [XNIO-1 task-4]  IN45KvZ4RYmp8MxRUMtO8w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.209 [XNIO-1 task-4]  IN45KvZ4RYmp8MxRUMtO8w DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", authorization)
23:10:20.214 [XNIO-1 task-3]  6qBXEzUMSmekVjD1ZnxeCA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.215 [XNIO-1 task-3]  6qBXEzUMSmekVjD1ZnxeCA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.215 [XNIO-1 task-3]  6qBXEzUMSmekVjD1ZnxeCA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.215 [XNIO-1 task-3]  6qBXEzUMSmekVjD1ZnxeCA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZTA4ZmVjMTEtNjlkNC00YjJjLWFkY2MtYWMzN2RmOTcwNWE0Om9mTzNiOEYxUlRTTGdvaDBCUlpmYnc=", "Basic ZTA4ZmVjMTEtNjlkNC00YjJjLWFkY2MtYWMzN2RmOTcwNWE0Om9mTzNiOEYxUlRTTGdvaDBCUlpmYnc=", authorization)
23:10:20.216 [XNIO-1 task-4]  IN45KvZ4RYmp8MxRUMtO8w DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:20.222 [XNIO-1 task-3]  6qBXEzUMSmekVjD1ZnxeCA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:20.224 [XNIO-1 task-3]  6qBXEzUMSmekVjD1ZnxeCA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.234 [XNIO-1 task-3]  0pi8YlMjSm6jvjwgl8rPbA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.234 [XNIO-1 task-3]  0pi8YlMjSm6jvjwgl8rPbA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.234 [XNIO-1 task-3]  0pi8YlMjSm6jvjwgl8rPbA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.235 [XNIO-1 task-3]  0pi8YlMjSm6jvjwgl8rPbA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = fsvm4Qg3QAapInOKUmWMFA redirectUri = http://localhost:8080/authorization
23:10:20.241 [XNIO-1 task-3]  0pi8YlMjSm6jvjwgl8rPbA ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.255 [XNIO-1 task-3]  8_6jzX78T0iTVhMZv6FSAA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.255 [XNIO-1 task-3]  8_6jzX78T0iTVhMZv6FSAA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.255 [XNIO-1 task-3]  8_6jzX78T0iTVhMZv6FSAA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.255 [XNIO-1 task-3]  8_6jzX78T0iTVhMZv6FSAA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 7Khs-a_6Qt-AP912MKXiVg redirectUri = http://localhost:8080/authorization
23:10:20.261 [XNIO-1 task-4]  wS2bA_mUSxK8FZiNzvULwA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.261 [XNIO-1 task-4]  wS2bA_mUSxK8FZiNzvULwA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.261 [XNIO-1 task-4]  wS2bA_mUSxK8FZiNzvULwA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.261 [XNIO-1 task-3]  8_6jzX78T0iTVhMZv6FSAA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:20.261 [XNIO-1 task-3]  8_6jzX78T0iTVhMZv6FSAA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.264 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:d1949c2f-d446-4ae0-b6aa-dd0bede13d13
23:10:20.268 [XNIO-1 task-4]  wS2bA_mUSxK8FZiNzvULwA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.273 [XNIO-1 task-3]  5W-dCzcpQJ6_LJQN6DgJVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.273 [XNIO-1 task-3]  5W-dCzcpQJ6_LJQN6DgJVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.273 [XNIO-1 task-3]  5W-dCzcpQJ6_LJQN6DgJVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.273 [hz._hzInstance_1_dev.partition-operation.thread-10]   ERROR c.n.oauth.cache.ClientMapStore delete - Exception:
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
23:10:20.273 [XNIO-1 task-3]  5W-dCzcpQJ6_LJQN6DgJVQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 91cb8b6d-b5e6-4fa6-bc19-bc47aced014b scope = null
23:10:20.287 [XNIO-1 task-4]  56BaY3_NS9COlFpli_C-Xg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.287 [XNIO-1 task-4]  56BaY3_NS9COlFpli_C-Xg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.287 [XNIO-1 task-4]  56BaY3_NS9COlFpli_C-Xg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.287 [XNIO-1 task-4]  56BaY3_NS9COlFpli_C-Xg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = _uHM5OgiSBSnJx6zDpERiA redirectUri = http://localhost:8080/authorization
23:10:20.290 [XNIO-1 task-3]  5W-dCzcpQJ6_LJQN6DgJVQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.294 [XNIO-1 task-4]  56BaY3_NS9COlFpli_C-Xg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.310 [XNIO-1 task-3]  kr7dPoRFRLS-N5XqbPQdXQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.311 [XNIO-1 task-3]  kr7dPoRFRLS-N5XqbPQdXQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.311 [XNIO-1 task-3]  kr7dPoRFRLS-N5XqbPQdXQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.311 [XNIO-1 task-3]  kr7dPoRFRLS-N5XqbPQdXQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:20.327 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:2fea8386
23:10:20.328 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:2fea8386
23:10:20.329 [XNIO-1 task-3]  kr7dPoRFRLS-N5XqbPQdXQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.334 [XNIO-1 task-4]  F6rGfGwmSkKRbUzZuru-Mg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.334 [XNIO-1 task-4]  F6rGfGwmSkKRbUzZuru-Mg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.334 [XNIO-1 task-4]  F6rGfGwmSkKRbUzZuru-Mg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.334 [XNIO-1 task-4]  F6rGfGwmSkKRbUzZuru-Mg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = uqj9bY0GTZiPz4qJ18oSEg redirectUri = http://localhost:8080/authorization
23:10:20.342 [XNIO-1 task-4]  F6rGfGwmSkKRbUzZuru-Mg ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.362 [XNIO-1 task-3]  3ESUPoz1QBevvSBRNZmliA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.363 [XNIO-1 task-3]  3ESUPoz1QBevvSBRNZmliA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.363 [XNIO-1 task-3]  3ESUPoz1QBevvSBRNZmliA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.363 [XNIO-1 task-3]  3ESUPoz1QBevvSBRNZmliA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:20.366 [XNIO-1 task-4]  Rf2Z_QgMQx2-g1VOzM0A7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.367 [XNIO-1 task-4]  Rf2Z_QgMQx2-g1VOzM0A7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.367 [XNIO-1 task-4]  Rf2Z_QgMQx2-g1VOzM0A7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.367 [XNIO-1 task-4]  Rf2Z_QgMQx2-g1VOzM0A7Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", authorization)
23:10:20.371 [XNIO-1 task-3]  3ESUPoz1QBevvSBRNZmliA ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRefreshToken(Oauth2TokenPostHandler.java:461)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.373 [XNIO-1 task-4]  Rf2Z_QgMQx2-g1VOzM0A7Q DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.375 [hz._hzInstance_1_dev.partition-operation.thread-7]   DEBUG c.n.oauth.cache.RefreshTokenMapStore store - Store:10349e59-2d71-4a56-a8e7-7b133bf1d6d8
23:10:20.391 [XNIO-1 task-4]  YPzvkpqNRjqQrvZPMRVmdA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.391 [XNIO-1 task-4]  YPzvkpqNRjqQrvZPMRVmdA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.391 [XNIO-1 task-4]  YPzvkpqNRjqQrvZPMRVmdA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.391 [XNIO-1 task-4]  YPzvkpqNRjqQrvZPMRVmdA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", authorization)
23:10:20.396 [hz._hzInstance_1_dev.partition-operation.thread-7]   DEBUG c.n.oauth.cache.RefreshTokenMapStore delete - Delete:10349e59-2d71-4a56-a8e7-7b133bf1d6d8
23:10:20.406 [XNIO-1 task-4]  YPzvkpqNRjqQrvZPMRVmdA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.407 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:8a49e6ce
23:10:20.422 [XNIO-1 task-4]  ySJ2By01TlSVlu455RqYiw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.422 [XNIO-1 task-4]  ySJ2By01TlSVlu455RqYiw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.422 [XNIO-1 task-4]  ySJ2By01TlSVlu455RqYiw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.422 [XNIO-1 task-4]  ySJ2By01TlSVlu455RqYiw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 4e03c9b5-deaa-4f7d-9513-a95688ad4122 scope = null
23:10:20.436 [XNIO-1 task-4]  ySJ2By01TlSVlu455RqYiw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.437 [XNIO-1 task-3]  IBBwrlE4SuqMZR8BxNGNcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.437 [XNIO-1 task-3]  IBBwrlE4SuqMZR8BxNGNcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.437 [XNIO-1 task-3]  IBBwrlE4SuqMZR8BxNGNcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.437 [XNIO-1 task-3]  IBBwrlE4SuqMZR8BxNGNcQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = pRF1RblwTaOSiErmKTecBg redirectUri = http://localhost:8080/authorization
23:10:20.443 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:2fea8386
23:10:20.447 [XNIO-1 task-3]  IBBwrlE4SuqMZR8BxNGNcQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.479 [XNIO-1 task-3]  _ke9-2OdTX6WQvfSc-ic_g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.479 [XNIO-1 task-3]  _ke9-2OdTX6WQvfSc-ic_g DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.479 [XNIO-1 task-3]  _ke9-2OdTX6WQvfSc-ic_g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.479 [XNIO-1 task-3]  _ke9-2OdTX6WQvfSc-ic_g DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", authorization)
23:10:20.487 [XNIO-1 task-3]  _ke9-2OdTX6WQvfSc-ic_g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:20.491 [XNIO-1 task-3]  IuPJgaWDSCmdFez7WJLjSQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.491 [XNIO-1 task-3]  IuPJgaWDSCmdFez7WJLjSQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.491 [XNIO-1 task-3]  IuPJgaWDSCmdFez7WJLjSQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.491 [XNIO-1 task-3]  IuPJgaWDSCmdFez7WJLjSQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.491 [XNIO-1 task-3]  IuPJgaWDSCmdFez7WJLjSQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", authorization)
23:10:20.491 [XNIO-1 task-3]  IuPJgaWDSCmdFez7WJLjSQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = eCSsmg7xTkSjzpJs5-vTrw redirectUri = http://localhost:8080/authorization
23:10:20.498 [XNIO-1 task-3]  IuPJgaWDSCmdFez7WJLjSQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
23:10:20.501 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.RefreshTokenMapStore store - Store:979d8575-a55c-4a86-8165-8b5afd9f9bba
23:10:20.501 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.RefreshTokenMapStore load - Load:979d8575-a55c-4a86-8165-8b5afd9f9bba
23:10:20.504 [XNIO-1 task-4]  vRqYYQ1USRqmqOOwjerRrg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.504 [XNIO-1 task-4]  vRqYYQ1USRqmqOOwjerRrg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
23:10:20.504 [XNIO-1 task-4]  vRqYYQ1USRqmqOOwjerRrg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	... 14 more

SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)

23:10:20.504 [XNIO-1 task-4]  vRqYYQ1USRqmqOOwjerRrg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.505 [XNIO-1 task-4]  vRqYYQ1USRqmqOOwjerRrg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = YvP_IKqERaeAagksgwo7QQ redirectUri = http://localhost:8080/authorization
23:10:20.509 [XNIO-1 task-3]  cOW5aFriQBqm073Ao3LWVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.509 [XNIO-1 task-3]  cOW5aFriQBqm073Ao3LWVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.509 [XNIO-1 task-3]  cOW5aFriQBqm073Ao3LWVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.509 [XNIO-1 task-3]  cOW5aFriQBqm073Ao3LWVQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 979d8575-a55c-4a86-8165-8b5afd9f9bba scope = null
23:10:20.512 [XNIO-1 task-4]  vRqYYQ1USRqmqOOwjerRrg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.514 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.RefreshTokenMapStore delete - Delete:979d8575-a55c-4a86-8165-8b5afd9f9bba
23:10:20.524 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore delete - Delete:8a49e6ce
23:10:20.526 [XNIO-1 task-3]  cOW5aFriQBqm073Ao3LWVQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.546 [XNIO-1 task-3]  Y-KiO7qYQtaGOMb73P4aZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.546 [XNIO-1 task-3]  Y-KiO7qYQtaGOMb73P4aZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.547 [XNIO-1 task-3]  Y-KiO7qYQtaGOMb73P4aZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.547 [XNIO-1 task-3]  Y-KiO7qYQtaGOMb73P4aZQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = D-EHwJMVTHust2CVqTTcTQ redirectUri = http://localhost:8080/authorization
23:10:20.555 [XNIO-1 task-3]  Y-KiO7qYQtaGOMb73P4aZQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.561 [XNIO-1 task-4]  _SL1C6pRSc6asKN18gwtqw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.561 [XNIO-1 task-4]  _SL1C6pRSc6asKN18gwtqw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.561 [XNIO-1 task-4]  _SL1C6pRSc6asKN18gwtqw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.561 [XNIO-1 task-4]  _SL1C6pRSc6asKN18gwtqw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZDE5NDljMmYtZDQ0Ni00YWUwLWI2YWEtZGQwYmVkZTEzZDEzOll2cU5NMGJWUXVHWmNLQS1uN2pBOFE=", "Basic ZDE5NDljMmYtZDQ0Ni00YWUwLWI2YWEtZGQwYmVkZTEzZDEzOll2cU5NMGJWUXVHWmNLQS1uN2pBOFE=", authorization)
23:10:20.567 [XNIO-1 task-4]  _SL1C6pRSc6asKN18gwtqw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:20.568 [XNIO-1 task-4]  _SL1C6pRSc6asKN18gwtqw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.571 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.RefreshTokenMapStore load - Load:aacaacbf-e8c1-4965-944a-89cf7099f051
23:10:20.593 [XNIO-1 task-4]  5lVu3viXQ2qqg0EqSdVUIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.593 [XNIO-1 task-4]  5lVu3viXQ2qqg0EqSdVUIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.593 [XNIO-1 task-4]  5lVu3viXQ2qqg0EqSdVUIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.594 [XNIO-1 task-4]  5lVu3viXQ2qqg0EqSdVUIA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = ljwpXc0_QcG9l1OshV322w redirectUri = http://localhost:8080/authorization
23:10:20.601 [XNIO-1 task-4]  5lVu3viXQ2qqg0EqSdVUIA ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.607 [XNIO-1 task-4]  cKmtQIgERvSCgOl4xg-pkQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.607 [XNIO-1 task-4]  cKmtQIgERvSCgOl4xg-pkQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.607 [XNIO-1 task-4]  cKmtQIgERvSCgOl4xg-pkQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.608 [XNIO-1 task-4]  cKmtQIgERvSCgOl4xg-pkQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = C2_cZZeaRJGZOS80l-ym7g redirectUri = http://localhost:8080/authorization
23:10:20.615 [XNIO-1 task-4]  cKmtQIgERvSCgOl4xg-pkQ ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.636 [XNIO-1 task-4]  WuneELhDSkiGMVQv45ftRA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.636 [XNIO-1 task-4]  WuneELhDSkiGMVQv45ftRA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.636 [XNIO-1 task-4]  WuneELhDSkiGMVQv45ftRA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.636 [XNIO-1 task-4]  WuneELhDSkiGMVQv45ftRA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = gfaoVTHYSTu3JQiJPp36zQ redirectUri = http://localhost:8080/authorization
23:10:20.642 [XNIO-1 task-4]  WuneELhDSkiGMVQv45ftRA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.657 [hz._hzInstance_1_dev.partition-operation.thread-5]   DEBUG c.networknt.oauth.cache.UserMapStore delete - Delete:69cd96f3
23:10:20.676 [XNIO-1 task-4]  jLwslxdqSKKDTtClZ2uX2g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.676 [XNIO-1 task-4]  jLwslxdqSKKDTtClZ2uX2g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.676 [XNIO-1 task-4]  jLwslxdqSKKDTtClZ2uX2g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.677 [XNIO-1 task-4]  jLwslxdqSKKDTtClZ2uX2g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = slfAbj45S1y9ogAifkImkA redirectUri = http://localhost:8080/authorization
23:10:20.682 [XNIO-1 task-3]  0pHVaIWfRjWHBDBx_PYS0w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.682 [XNIO-1 task-3]  0pHVaIWfRjWHBDBx_PYS0w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.682 [XNIO-1 task-3]  0pHVaIWfRjWHBDBx_PYS0w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.682 [XNIO-1 task-3]  0pHVaIWfRjWHBDBx_PYS0w DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = ByxLAYVIRYymBubxy3LGwg redirectUri = http://localhost:8080/authorization
23:10:20.683 [XNIO-1 task-4]  jLwslxdqSKKDTtClZ2uX2g ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.689 [XNIO-1 task-3]  0pHVaIWfRjWHBDBx_PYS0w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.704 [XNIO-1 task-3]  m_n0kb-XT7yMCq9e4jGqBQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.704 [XNIO-1 task-3]  m_n0kb-XT7yMCq9e4jGqBQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.704 [XNIO-1 task-3]  m_n0kb-XT7yMCq9e4jGqBQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.704 [XNIO-1 task-3]  m_n0kb-XT7yMCq9e4jGqBQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", authorization)
23:10:20.713 [XNIO-1 task-3]  m_n0kb-XT7yMCq9e4jGqBQ ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRefreshToken(Oauth2TokenPostHandler.java:461)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.720 [XNIO-1 task-3]  JPFcTholSeaI27hnJVYNlg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.720 [XNIO-1 task-3]  JPFcTholSeaI27hnJVYNlg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.721 [XNIO-1 task-3]  JPFcTholSeaI27hnJVYNlg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.721 [XNIO-1 task-3]  JPFcTholSeaI27hnJVYNlg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = HasnwffXSGe5Q-8mbdN_8Q redirectUri = http://localhost:8080/authorization
23:10:20.727 [XNIO-1 task-3]  JPFcTholSeaI27hnJVYNlg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.730 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:d1949c2f-d446-4ae0-b6aa-dd0bede13d13
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
23:10:20.753 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore store - Store:2fea8386
23:10:20.755 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:d1949c2f-d446-4ae0-b6aa-dd0bede13d13
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
23:10:20.775 [hz._hzInstance_1_dev.partition-operation.thread-4]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:cc0c8fe8
23:10:20.777 [hz._hzInstance_1_dev.partition-operation.thread-4]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:cc0c8fe8
23:10:20.796 [XNIO-1 task-3]  7mLuqPZHSX2dJabvJ-chog DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.796 [XNIO-1 task-3]  7mLuqPZHSX2dJabvJ-chog DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.796 [XNIO-1 task-3]  7mLuqPZHSX2dJabvJ-chog DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.796 [XNIO-1 task-3]  7mLuqPZHSX2dJabvJ-chog DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = l_slD7lTSGqDMA-Isgqvyg redirectUri = http://localhost:8080/authorization
23:10:20.803 [XNIO-1 task-3]  7mLuqPZHSX2dJabvJ-chog ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.818 [XNIO-1 task-3]  jb_x949cTkClOZOwLFTs7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.818 [XNIO-1 task-3]  jb_x949cTkClOZOwLFTs7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.818 [XNIO-1 task-3]  jb_x949cTkClOZOwLFTs7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.818 [XNIO-1 task-3]  jb_x949cTkClOZOwLFTs7Q DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = PxPugwgGRIOZeXRb2SheWQ redirectUri = http://localhost:8080/authorization
23:10:20.824 [XNIO-1 task-3]  jb_x949cTkClOZOwLFTs7Q ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.830 [hz._hzInstance_1_dev.partition-operation.thread-3]   DEBUG c.networknt.oauth.cache.UserMapStore store - Store:af2e8ee8
23:10:20.860 [hz._hzInstance_1_dev.partition-operation.thread-4]   DEBUG c.n.oauth.cache.ServiceMapStore store - Store:cc0c8fe8
23:10:20.867 [XNIO-1 task-3]  3FuzWa79Rg25OLnRHdHTEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.867 [XNIO-1 task-3]  3FuzWa79Rg25OLnRHdHTEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.868 [XNIO-1 task-3]  3FuzWa79Rg25OLnRHdHTEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.868 [XNIO-1 task-3]  3FuzWa79Rg25OLnRHdHTEQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", authorization)
23:10:20.876 [XNIO-1 task-3]  3FuzWa79Rg25OLnRHdHTEQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.887 [XNIO-1 task-3]  5HOAofLYTeW2QBGWuliZhQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.887 [XNIO-1 task-3]  5HOAofLYTeW2QBGWuliZhQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.887 [XNIO-1 task-3]  5HOAofLYTeW2QBGWuliZhQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.888 [XNIO-1 task-3]  5HOAofLYTeW2QBGWuliZhQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MjJiM2RjMWQtYjllMy00ODY1LWJhOGYtYzZjODBmMjg0NzM3OmQ3ZVhDYmJwUWVDU0V3U1ZnOThQVnc=", "Basic MjJiM2RjMWQtYjllMy00ODY1LWJhOGYtYzZjODBmMjg0NzM3OmQ3ZVhDYmJwUWVDU0V3U1ZnOThQVnc=", authorization)
23:10:20.892 [XNIO-1 task-4]  adUQCsfxQgKNSZnzNjD98Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.893 [XNIO-1 task-4]  adUQCsfxQgKNSZnzNjD98Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.893 [XNIO-1 task-4]  adUQCsfxQgKNSZnzNjD98Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.893 [XNIO-1 task-3]  5HOAofLYTeW2QBGWuliZhQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.893 [XNIO-1 task-4]  adUQCsfxQgKNSZnzNjD98Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZDBlN2JjOTMtMWVkNy00ZGJkLTg2MTMtMWFiYjVlNWNhMDljOktnYTdiY2FzVFVtaVB5T2tpSm9hcHc=", "Basic ZDBlN2JjOTMtMWVkNy00ZGJkLTg2MTMtMWFiYjVlNWNhMDljOktnYTdiY2FzVFVtaVB5T2tpSm9hcHc=", authorization)
23:10:20.900 [XNIO-1 task-4]  adUQCsfxQgKNSZnzNjD98Q DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:20.900 [XNIO-1 task-4]  adUQCsfxQgKNSZnzNjD98Q INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.903 [XNIO-1 task-3]  Ve1GUwQZToOLJBQqA_GFOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.903 [XNIO-1 task-3]  Ve1GUwQZToOLJBQqA_GFOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.903 [XNIO-1 task-3]  Ve1GUwQZToOLJBQqA_GFOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.903 [XNIO-1 task-3]  Ve1GUwQZToOLJBQqA_GFOQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:20.909 [XNIO-1 task-3]  Ve1GUwQZToOLJBQqA_GFOQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.914 [XNIO-1 task-3]  6t18o5p0Qca9Y77a1b1UEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.914 [XNIO-1 task-3]  6t18o5p0Qca9Y77a1b1UEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.914 [XNIO-1 task-3]  6t18o5p0Qca9Y77a1b1UEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.914 [XNIO-1 task-3]  6t18o5p0Qca9Y77a1b1UEQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 5f1b0f6d-b5a3-4347-aa00-bbe9514d8083 scope = null
23:10:20.915 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:2fea8386
23:10:20.918 [XNIO-1 task-2]  gMcOksv3Sz-qzpmvU10aFA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.918 [XNIO-1 task-2]  gMcOksv3Sz-qzpmvU10aFA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.918 [XNIO-1 task-2]  gMcOksv3Sz-qzpmvU10aFA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.918 [XNIO-1 task-2]  gMcOksv3Sz-qzpmvU10aFA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.918 [XNIO-1 task-4]  OTy-MEl4SwiugS2RsqQcYQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.918 [XNIO-1 task-4]  OTy-MEl4SwiugS2RsqQcYQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.918 [XNIO-1 task-2]  gMcOksv3Sz-qzpmvU10aFA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", authorization)
23:10:20.918 [XNIO-1 task-2]  gMcOksv3Sz-qzpmvU10aFA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:20.923 [XNIO-1 task-3]  6t18o5p0Qca9Y77a1b1UEQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.924 [XNIO-1 task-2]  gMcOksv3Sz-qzpmvU10aFA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.926 [XNIO-1 task-4]  OTy-MEl4SwiugS2RsqQcYQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.929 [XNIO-1 task-2]  dkD9dIv0Roix5wma86bRVA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.929 [XNIO-1 task-2]  dkD9dIv0Roix5wma86bRVA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.930 [XNIO-1 task-2]  dkD9dIv0Roix5wma86bRVA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.930 [XNIO-1 task-2]  dkD9dIv0Roix5wma86bRVA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", authorization)
23:10:20.936 [XNIO-1 task-2]  dkD9dIv0Roix5wma86bRVA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.942 [XNIO-1 task-2]  xOX9AwmwTMqGWcLEx9o_2Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.942 [XNIO-1 task-2]  xOX9AwmwTMqGWcLEx9o_2Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.942 [XNIO-1 task-2]  xOX9AwmwTMqGWcLEx9o_2Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.942 [XNIO-1 task-2]  xOX9AwmwTMqGWcLEx9o_2Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YWFkZjBhYjMtMjZlOS00M2NiLWI1YjMtZGJjMDE5NWNiNzMxOlktSVp1Ykk1UmJTcXNpa01hYmhlWVE=", "Basic YWFkZjBhYjMtMjZlOS00M2NiLWI1YjMtZGJjMDE5NWNiNzMxOlktSVp1Ykk1UmJTcXNpa01hYmhlWVE=", authorization)
23:10:20.947 [XNIO-1 task-2]  xOX9AwmwTMqGWcLEx9o_2Q DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.948 [XNIO-1 task-4]  _w2Lz_CnRA22hqWV2JO6xg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.948 [XNIO-1 task-4]  _w2Lz_CnRA22hqWV2JO6xg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.948 [XNIO-1 task-4]  _w2Lz_CnRA22hqWV2JO6xg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.948 [XNIO-1 task-4]  _w2Lz_CnRA22hqWV2JO6xg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", authorization)
23:10:20.951 [XNIO-1 task-2]  CJejY0XVS_iVq2-CvVBFwg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.951 [XNIO-1 task-2]  CJejY0XVS_iVq2-CvVBFwg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.952 [XNIO-1 task-2]  CJejY0XVS_iVq2-CvVBFwg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.952 [XNIO-1 task-2]  CJejY0XVS_iVq2-CvVBFwg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NDNjMzYyZGItYjhjNi00NTUzLTg3ZjItYTc0YTk5NTA3NDJmOnFRM2xNaHRhUTN5VTJjRlRBc185d3c=", "Basic NDNjMzYyZGItYjhjNi00NTUzLTg3ZjItYTc0YTk5NTA3NDJmOnFRM2xNaHRhUTN5VTJjRlRBc185d3c=", authorization)
23:10:20.952 [hz._hzInstance_1_dev.partition-operation.thread-4]   DEBUG c.n.o.cache.ServiceEndpointMapStore delete - Delete:cc0c8fe8
23:10:20.954 [XNIO-1 task-3]  uNCA8r90T7i2_tnI0kIk6Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
com.networknt.exception.ApiException: {"statusCode":404,"code":"ERR12029","message":"REFRESH_TOKEN_NOT_FOUND","description":"Refresh token 011ecb81-353a-404e-8f0f-fcbef48ccb68 is not found.","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:120)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:20.956 [XNIO-1 task-3]  uNCA8r90T7i2_tnI0kIk6Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.956 [XNIO-1 task-3]  uNCA8r90T7i2_tnI0kIk6Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.957 [XNIO-1 task-3]  uNCA8r90T7i2_tnI0kIk6Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.957 [XNIO-1 task-3]  uNCA8r90T7i2_tnI0kIk6Q DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:20.960 [XNIO-1 task-4]  D2v7u39nQLGLIn-5IKIiIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.960 [XNIO-1 task-4]  D2v7u39nQLGLIn-5IKIiIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.960 [XNIO-1 task-4]  D2v7u39nQLGLIn-5IKIiIA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.960 [XNIO-1 task-4]  D2v7u39nQLGLIn-5IKIiIA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 011ecb81-353a-404e-8f0f-fcbef48ccb68 scope = null
23:10:20.962 [XNIO-1 task-3]  uNCA8r90T7i2_tnI0kIk6Q INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.966 [XNIO-1 task-4]  D2v7u39nQLGLIn-5IKIiIA ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRefreshToken(Oauth2TokenPostHandler.java:461)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.966 [XNIO-1 task-3]  At4VKfiGSJ6l2a34PtwkLw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.966 [XNIO-1 task-3]  At4VKfiGSJ6l2a34PtwkLw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.966 [XNIO-1 task-3]  At4VKfiGSJ6l2a34PtwkLw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", authorization)
23:10:20.969 [XNIO-1 task-4]  S4y-uCfQQq-IC2v1Mga-9A DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.969 [XNIO-1 task-4]  S4y-uCfQQq-IC2v1Mga-9A DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.969 [XNIO-1 task-4]  S4y-uCfQQq-IC2v1Mga-9A DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.969 [XNIO-1 task-2]  CJejY0XVS_iVq2-CvVBFwg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.969 [XNIO-1 task-2]  CJejY0XVS_iVq2-CvVBFwg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.971 [XNIO-1 task-3]  At4VKfiGSJ6l2a34PtwkLw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.975 [XNIO-1 task-3]  ouxENiaMQymTKy1Ar3sErw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.975 [XNIO-1 task-3]  ouxENiaMQymTKy1Ar3sErw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:20.975 [XNIO-1 task-3]  ouxENiaMQymTKy1Ar3sErw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:20.976 [XNIO-1 task-3]  ouxENiaMQymTKy1Ar3sErw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:20.980 [XNIO-1 task-4]  S4y-uCfQQq-IC2v1Mga-9A ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRefreshToken(Oauth2TokenPostHandler.java:461)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:20.981 [XNIO-1 task-3]  ouxENiaMQymTKy1Ar3sErw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:20.984 [XNIO-1 task-4]  8Hf2f_gSRs626WnEclAqxg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.984 [XNIO-1 task-4]  8Hf2f_gSRs626WnEclAqxg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.984 [XNIO-1 task-4]  8Hf2f_gSRs626WnEclAqxg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.984 [XNIO-1 task-4]  8Hf2f_gSRs626WnEclAqxg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = bf3501ff-411a-43a8-b176-2e5f4288e3fd scope = null
23:10:20.988 [XNIO-1 task-3]  6m21DJV1Txy2EXgfZEaUAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.989 [XNIO-1 task-3]  6m21DJV1Txy2EXgfZEaUAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.989 [XNIO-1 task-3]  6m21DJV1Txy2EXgfZEaUAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.989 [XNIO-1 task-3]  6m21DJV1Txy2EXgfZEaUAQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 21LglB3dT7aB4JmizBRV8Q redirectUri = http://localhost:8080/authorization
23:10:20.992 [XNIO-1 task-2]  uFS9MkTMTtSHyv4GRaOaug DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.992 [XNIO-1 task-2]  uFS9MkTMTtSHyv4GRaOaug DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.994 [XNIO-1 task-2]  uFS9MkTMTtSHyv4GRaOaug DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:20.994 [XNIO-1 task-2]  uFS9MkTMTtSHyv4GRaOaug DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:20.995 [XNIO-1 task-4]  8Hf2f_gSRs626WnEclAqxg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:20.995 [XNIO-1 task-3]  6m21DJV1Txy2EXgfZEaUAQ ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:21.001 [XNIO-1 task-2]  uFS9MkTMTtSHyv4GRaOaug INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.007 [XNIO-1 task-4]  T-v_liFdSbKKkTzdCNBU4Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.007 [XNIO-1 task-4]  T-v_liFdSbKKkTzdCNBU4Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.007 [XNIO-1 task-4]  T-v_liFdSbKKkTzdCNBU4Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.007 [XNIO-1 task-4]  T-v_liFdSbKKkTzdCNBU4Q DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.012 [XNIO-1 task-2]  5YfeVpXTR6SfPSEOzqaSkA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.012 [XNIO-1 task-2]  5YfeVpXTR6SfPSEOzqaSkA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.012 [XNIO-1 task-2]  5YfeVpXTR6SfPSEOzqaSkA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.012 [XNIO-1 task-2]  5YfeVpXTR6SfPSEOzqaSkA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = CbUViZHDQMOiNwgi-RpmGQ redirectUri = http://localhost:8080/authorization
23:10:21.012 [XNIO-1 task-4]  T-v_liFdSbKKkTzdCNBU4Q INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.018 [XNIO-1 task-2]  5YfeVpXTR6SfPSEOzqaSkA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
Jun 28, 2024 11:10:21 PM com.hazelcast.map.impl.operation.DeleteOperation
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
23:10:21.020 [XNIO-1 task-4]  jmQ8C_4JQn-to1ea_jJ8ww DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.020 [XNIO-1 task-4]  jmQ8C_4JQn-to1ea_jJ8ww DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.020 [XNIO-1 task-4]  jmQ8C_4JQn-to1ea_jJ8ww DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZDBlN2JjOTMtMWVkNy00ZGJkLTg2MTMtMWFiYjVlNWNhMDljOktnYTdiY2FzVFVtaVB5T2tpSm9hcHc=", "Basic ZDBlN2JjOTMtMWVkNy00ZGJkLTg2MTMtMWFiYjVlNWNhMDljOktnYTdiY2FzVFVtaVB5T2tpSm9hcHc=", authorization)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
23:10:21.023 [XNIO-1 task-3]  5g9Y6FaqR8yXUbW7OZEZmw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.024 [XNIO-1 task-3]  5g9Y6FaqR8yXUbW7OZEZmw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
23:10:21.024 [XNIO-1 task-3]  5g9Y6FaqR8yXUbW7OZEZmw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MjgzOWNjY2QtMjliMi00MjFiLTg3MTMtYTQyNzA4OGNiZGM2OmVMWkNrOXdXUkhhRUl4WHg4RGZfM0E=", "Basic MjgzOWNjY2QtMjliMi00MjFiLTg3MTMtYTQyNzA4OGNiZGM2OmVMWkNrOXdXUkhhRUl4WHg4RGZfM0E=", authorization)

23:10:21.024 [XNIO-1 task-3]  5g9Y6FaqR8yXUbW7OZEZmw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 830BGEjwRkCsazlF52aJWw redirectUri = http://localhost:8080/authorization
23:10:21.026 [XNIO-1 task-4]  jmQ8C_4JQn-to1ea_jJ8ww INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.030 [XNIO-1 task-2]  XCbls89VTva2p-EdLeCfzw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.031 [XNIO-1 task-2]  XCbls89VTva2p-EdLeCfzw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.032 [XNIO-1 task-3]  5g9Y6FaqR8yXUbW7OZEZmw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.032 [XNIO-1 task-2]  XCbls89VTva2p-EdLeCfzw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.032 [XNIO-1 task-2]  XCbls89VTva2p-EdLeCfzw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.038 [XNIO-1 task-2]  XCbls89VTva2p-EdLeCfzw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.043 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore store - Store:2fea8386
23:10:21.044 [XNIO-1 task-2]  e1syGLAsQd66MJ06J9cMmQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.045 [XNIO-1 task-2]  e1syGLAsQd66MJ06J9cMmQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.045 [XNIO-1 task-2]  e1syGLAsQd66MJ06J9cMmQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.045 [XNIO-1 task-2]  e1syGLAsQd66MJ06J9cMmQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.050 [XNIO-1 task-2]  e1syGLAsQd66MJ06J9cMmQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.054 [XNIO-1 task-2]  Wt5nirNnSq6ovn-GRvsZCQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.054 [XNIO-1 task-2]  Wt5nirNnSq6ovn-GRvsZCQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.054 [XNIO-1 task-2]  Wt5nirNnSq6ovn-GRvsZCQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.054 [XNIO-1 task-2]  Wt5nirNnSq6ovn-GRvsZCQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.061 [XNIO-1 task-2]  Wt5nirNnSq6ovn-GRvsZCQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.061 [XNIO-1 task-4]  NuTS9EvsS2mpKS82gLWMEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.061 [XNIO-1 task-4]  NuTS9EvsS2mpKS82gLWMEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.061 [XNIO-1 task-4]  NuTS9EvsS2mpKS82gLWMEQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.062 [XNIO-1 task-4]  NuTS9EvsS2mpKS82gLWMEQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:21.067 [XNIO-1 task-4]  NuTS9EvsS2mpKS82gLWMEQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:21.071 [XNIO-1 task-4]  NC4Ag5zTRZeJQu0-g9G3-Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.072 [XNIO-1 task-4]  NC4Ag5zTRZeJQu0-g9G3-Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.073 [XNIO-1 task-4]  NC4Ag5zTRZeJQu0-g9G3-Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.073 [XNIO-1 task-4]  NC4Ag5zTRZeJQu0-g9G3-Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", authorization)
23:10:21.080 [XNIO-1 task-4]  NC4Ag5zTRZeJQu0-g9G3-Q DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.086 [XNIO-1 task-4]  AMI2xlqwSP2U_jebLAse7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.086 [XNIO-1 task-4]  AMI2xlqwSP2U_jebLAse7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.086 [XNIO-1 task-4]  AMI2xlqwSP2U_jebLAse7Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.088 [XNIO-1 task-4]  AMI2xlqwSP2U_jebLAse7Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.091 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:bddac66c-c6a9-48a9-91ac-b16950953008
23:10:21.092 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:bddac66c-c6a9-48a9-91ac-b16950953008
23:10:21.093 [XNIO-1 task-4]  AMI2xlqwSP2U_jebLAse7Q INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.094 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.ServiceMapStore delete - Delete:2fea8386
23:10:21.098 [XNIO-1 task-4]  -e0iD9OUR96GRlVZCJa67Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.099 [XNIO-1 task-4]  -e0iD9OUR96GRlVZCJa67Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.099 [XNIO-1 task-4]  -e0iD9OUR96GRlVZCJa67Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.099 [XNIO-1 task-4]  -e0iD9OUR96GRlVZCJa67Q DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = Wk_5RxPsTZ-i_snrTL5xWg redirectUri = http://localhost:8080/authorization
23:10:21.103 [XNIO-1 task-2]  cwMuz4WUSLqhKSaYoPO3kw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.103 [XNIO-1 task-2]  cwMuz4WUSLqhKSaYoPO3kw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.104 [XNIO-1 task-2]  cwMuz4WUSLqhKSaYoPO3kw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.104 [XNIO-1 task-2]  cwMuz4WUSLqhKSaYoPO3kw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzUxMmU4OTctOGQyNi00N2FmLThhYWYtYTliNjQwYmI4MjU3OjAxMW8tNHU0UURlU2JvTUZTTkMyb1E=", "Basic MzUxMmU4OTctOGQyNi00N2FmLThhYWYtYTliNjQwYmI4MjU3OjAxMW8tNHU0UURlU2JvTUZTTkMyb1E=", authorization)
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:21.104 [XNIO-1 task-2]  cwMuz4WUSLqhKSaYoPO3kw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.109 [XNIO-1 task-2]  cwMuz4WUSLqhKSaYoPO3kw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.116 [XNIO-1 task-2]  qiyvJK8iRhmimS1L5Vyz0g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.116 [XNIO-1 task-2]  qiyvJK8iRhmimS1L5Vyz0g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.117 [XNIO-1 task-2]  qiyvJK8iRhmimS1L5Vyz0g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.117 [XNIO-1 task-2]  qiyvJK8iRhmimS1L5Vyz0g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = WWtJP9QnRauJs018jgWgng redirectUri = http://localhost:8080/authorization
23:10:21.120 [XNIO-1 task-4]  9gYBGKR1SGChQaqsRWoPpw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.120 [XNIO-1 task-4]  9gYBGKR1SGChQaqsRWoPpw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.120 [XNIO-1 task-4]  9gYBGKR1SGChQaqsRWoPpw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.121 [XNIO-1 task-4]  9gYBGKR1SGChQaqsRWoPpw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.123 [XNIO-1 task-2]  qiyvJK8iRhmimS1L5Vyz0g DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.125 [XNIO-1 task-4]  9gYBGKR1SGChQaqsRWoPpw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.129 [XNIO-1 task-4]  ccVVf4taQTCls168SR0KcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.129 [XNIO-1 task-4]  ccVVf4taQTCls168SR0KcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.129 [XNIO-1 task-4]  ccVVf4taQTCls168SR0KcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.129 [XNIO-1 task-4]  ccVVf4taQTCls168SR0KcQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YWFkZjBhYjMtMjZlOS00M2NiLWI1YjMtZGJjMDE5NWNiNzMxOlktSVp1Ykk1UmJTcXNpa01hYmhlWVE=", "Basic YWFkZjBhYjMtMjZlOS00M2NiLWI1YjMtZGJjMDE5NWNiNzMxOlktSVp1Ykk1UmJTcXNpa01hYmhlWVE=", authorization)
23:10:21.134 [XNIO-1 task-4]  ccVVf4taQTCls168SR0KcQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.136 [XNIO-1 task-4]  xm2eLkl1R4OpeHgOWcIwKQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.137 [hz._hzInstance_1_dev.partition-operation.thread-3]   DEBUG c.networknt.oauth.cache.UserMapStore load - Load:af2e8ee8
23:10:21.137 [XNIO-1 task-4]  xm2eLkl1R4OpeHgOWcIwKQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.138 [XNIO-1 task-4]  xm2eLkl1R4OpeHgOWcIwKQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.138 [XNIO-1 task-4]  xm2eLkl1R4OpeHgOWcIwKQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:21.140 [XNIO-1 task-2]  E-dIyu10TtyZ1zORobgcng DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.140 [XNIO-1 task-2]  E-dIyu10TtyZ1zORobgcng DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.142 [XNIO-1 task-2]  E-dIyu10TtyZ1zORobgcng DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.142 [XNIO-1 task-2]  E-dIyu10TtyZ1zORobgcng DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MjJiM2RjMWQtYjllMy00ODY1LWJhOGYtYzZjODBmMjg0NzM3OmQ3ZVhDYmJwUWVDU0V3U1ZnOThQVnc=", "Basic MjJiM2RjMWQtYjllMy00ODY1LWJhOGYtYzZjODBmMjg0NzM3OmQ3ZVhDYmJwUWVDU0V3U1ZnOThQVnc=", authorization)
23:10:21.144 [XNIO-1 task-3]  66hxSS0JSCywmbRWP1MKPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.144 [XNIO-1 task-3]  66hxSS0JSCywmbRWP1MKPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.144 [XNIO-1 task-3]  66hxSS0JSCywmbRWP1MKPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.145 [XNIO-1 task-3]  66hxSS0JSCywmbRWP1MKPQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YWFkZjBhYjMtMjZlOS00M2NiLWI1YjMtZGJjMDE5NWNiNzMxOlktSVp1Ykk1UmJTcXNpa01hYmhlWVE=", "Basic YWFkZjBhYjMtMjZlOS00M2NiLWI1YjMtZGJjMDE5NWNiNzMxOlktSVp1Ykk1UmJTcXNpa01hYmhlWVE=", authorization)
23:10:21.148 [XNIO-1 task-2]  E-dIyu10TtyZ1zORobgcng DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.152 [XNIO-1 task-2]  E-dIyu10TtyZ1zORobgcng INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
Jun 28, 2024 11:10:21 PM com.hazelcast.map.impl.operation.DeleteOperation
23:10:21.152 [XNIO-1 task-3]  66hxSS0JSCywmbRWP1MKPQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.152 [XNIO-1 task-4]  xm2eLkl1R4OpeHgOWcIwKQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
23:10:21.162 [hz._hzInstance_1_dev.partition-operation.thread-7]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:621d0516-9fac-48e7-b71b-c8759d197888
23:10:21.162 [XNIO-1 task-3]  upHzNEpATTKXQ_d1nDF10A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.162 [XNIO-1 task-3]  upHzNEpATTKXQ_d1nDF10A DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.162 [XNIO-1 task-3]  upHzNEpATTKXQ_d1nDF10A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.162 [XNIO-1 task-3]  upHzNEpATTKXQ_d1nDF10A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.162 [XNIO-1 task-3]  upHzNEpATTKXQ_d1nDF10A DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", authorization)
23:10:21.168 [XNIO-1 task-3]  upHzNEpATTKXQ_d1nDF10A DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.168 [XNIO-1 task-3]  upHzNEpATTKXQ_d1nDF10A INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.171 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.networknt.oauth.cache.UserMapStore load - Load:76254d22
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
23:10:21.179 [XNIO-1 task-3]  IarEIC_dRr2V4_0cCfgOFQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
23:10:21.186 [XNIO-1 task-3]  IarEIC_dRr2V4_0cCfgOFQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
23:10:21.186 [XNIO-1 task-3]  IarEIC_dRr2V4_0cCfgOFQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)
	... 14 more

Jun 28, 2024 11:10:21 PM com.hazelcast.map.impl.operation.DeleteOperation
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
23:10:21.202 [XNIO-1 task-4]  IDZPsYZhQWqbeAalS43aKA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
23:10:21.203 [XNIO-1 task-4]  IDZPsYZhQWqbeAalS43aKA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
23:10:21.209 [XNIO-1 task-4]  IDZPsYZhQWqbeAalS43aKA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.212 [XNIO-1 task-4]  lTf_3bm5Taykp0D7o7DeVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.212 [XNIO-1 task-4]  lTf_3bm5Taykp0D7o7DeVQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
23:10:21.212 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.networknt.oauth.cache.UserMapStore load - Load:9e8d4db7
23:10:21.215 [XNIO-1 task-3]  i5B1TNwOTXmf4j_HNMLyNA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	... 14 more

23:10:21.216 [XNIO-1 task-3]  i5B1TNwOTXmf4j_HNMLyNA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.216 [XNIO-1 task-3]  i5B1TNwOTXmf4j_HNMLyNA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZDE5NDljMmYtZDQ0Ni00YWUwLWI2YWEtZGQwYmVkZTEzZDEzOll2cU5NMGJWUXVHWmNLQS1uN2pBOFE=", "Basic ZDE5NDljMmYtZDQ0Ni00YWUwLWI2YWEtZGQwYmVkZTEzZDEzOll2cU5NMGJWUXVHWmNLQS1uN2pBOFE=", authorization)
23:10:21.217 [XNIO-1 task-2]  0o-hLxLmSwKgATvK_QtdpQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.218 [XNIO-1 task-2]  0o-hLxLmSwKgATvK_QtdpQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.219 [XNIO-1 task-2]  0o-hLxLmSwKgATvK_QtdpQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.219 [XNIO-1 task-2]  0o-hLxLmSwKgATvK_QtdpQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.219 [XNIO-1 task-4]  lTf_3bm5Taykp0D7o7DeVQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.219 [XNIO-1 task-4]  lTf_3bm5Taykp0D7o7DeVQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.221 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.RefreshTokenMapStore load - Load:191538fa-e5b9-49a6-aded-15a19fc70628
23:10:21.221 [XNIO-1 task-3]  i5B1TNwOTXmf4j_HNMLyNA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.223 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.networknt.oauth.cache.UserMapStore load - Load:9e8d4db7
23:10:21.227 [XNIO-1 task-2]  0o-hLxLmSwKgATvK_QtdpQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.230 [XNIO-1 task-4]  hhVOqtHjQ_2uFi71MAcS3A DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.230 [XNIO-1 task-4]  hhVOqtHjQ_2uFi71MAcS3A DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.230 [XNIO-1 task-4]  hhVOqtHjQ_2uFi71MAcS3A DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.230 [XNIO-1 task-4]  hhVOqtHjQ_2uFi71MAcS3A DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YmRkYWM2NmMtYzZhOS00OGE5LTkxYWMtYjE2OTUwOTUzMDA4OlZxZzI5VGRZU1RPNHRkcmZ3S1NVVkE=", "Basic YmRkYWM2NmMtYzZhOS00OGE5LTkxYWMtYjE2OTUwOTUzMDA4OlZxZzI5VGRZU1RPNHRkcmZ3S1NVVkE=", authorization)
23:10:21.233 [XNIO-1 task-3]  gyjZcPWeR_i-BxWBlUDVag DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.233 [XNIO-1 task-3]  gyjZcPWeR_i-BxWBlUDVag DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.233 [XNIO-1 task-3]  gyjZcPWeR_i-BxWBlUDVag DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.233 [XNIO-1 task-3]  gyjZcPWeR_i-BxWBlUDVag DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", authorization)
23:10:21.236 [XNIO-1 task-4]  hhVOqtHjQ_2uFi71MAcS3A DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.238 [hz._hzInstance_1_dev.partition-operation.thread-1]   DEBUG c.n.oauth.cache.RefreshTokenMapStore delete - Delete:191538fa-e5b9-49a6-aded-15a19fc70628
23:10:21.245 [XNIO-1 task-3]  gyjZcPWeR_i-BxWBlUDVag INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.247 [XNIO-1 task-4]  uyAjXS5MSgqwlXrjYqeXQQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.247 [XNIO-1 task-4]  uyAjXS5MSgqwlXrjYqeXQQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.247 [XNIO-1 task-4]  uyAjXS5MSgqwlXrjYqeXQQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.247 [XNIO-1 task-4]  uyAjXS5MSgqwlXrjYqeXQQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.253 [XNIO-1 task-4]  uyAjXS5MSgqwlXrjYqeXQQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.259 [XNIO-1 task-4]  d4L503GIQJeM68z4MBYSvQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.259 [XNIO-1 task-4]  d4L503GIQJeM68z4MBYSvQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.259 [XNIO-1 task-4]  d4L503GIQJeM68z4MBYSvQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.259 [XNIO-1 task-4]  d4L503GIQJeM68z4MBYSvQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.264 [XNIO-1 task-4]  d4L503GIQJeM68z4MBYSvQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.271 [XNIO-1 task-4]  f4xtwpTiRhWSJSqtrKbyIw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.271 [XNIO-1 task-4]  f4xtwpTiRhWSJSqtrKbyIw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.271 [XNIO-1 task-4]  f4xtwpTiRhWSJSqtrKbyIw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.271 [XNIO-1 task-4]  f4xtwpTiRhWSJSqtrKbyIw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.277 [XNIO-1 task-4]  f4xtwpTiRhWSJSqtrKbyIw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.280 [XNIO-1 task-4]  cwuRnQglSj2Rpxw5treA2w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.280 [XNIO-1 task-4]  cwuRnQglSj2Rpxw5treA2w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.280 [XNIO-1 task-4]  cwuRnQglSj2Rpxw5treA2w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.281 [XNIO-1 task-4]  cwuRnQglSj2Rpxw5treA2w DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = 6tkAmURmRBWIgbjDV3mLIQ redirectUri = http://localhost:8080/authorization
23:10:21.288 [XNIO-1 task-4]  cwuRnQglSj2Rpxw5treA2w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.290 [XNIO-1 task-3]  7mbHt7nZS8atbQeIuRYXiQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.290 [XNIO-1 task-3]  7mbHt7nZS8atbQeIuRYXiQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.290 [XNIO-1 task-3]  7mbHt7nZS8atbQeIuRYXiQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.290 [XNIO-1 task-3]  7mbHt7nZS8atbQeIuRYXiQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", authorization)
23:10:21.295 [XNIO-1 task-3]  7mbHt7nZS8atbQeIuRYXiQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.303 [XNIO-1 task-4]  bfyoUDoxR3CrxbLwRd6jKw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.303 [XNIO-1 task-4]  bfyoUDoxR3CrxbLwRd6jKw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.303 [XNIO-1 task-4]  bfyoUDoxR3CrxbLwRd6jKw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.304 [XNIO-1 task-4]  bfyoUDoxR3CrxbLwRd6jKw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.306 [XNIO-1 task-3]  vLteKu-4SjWqDuCsNJnXJQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.306 [XNIO-1 task-3]  vLteKu-4SjWqDuCsNJnXJQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.306 [XNIO-1 task-3]  vLteKu-4SjWqDuCsNJnXJQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.306 [XNIO-1 task-2]  fc7l5ZkSRMyYDOp0OncCjA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.306 [XNIO-1 task-3]  vLteKu-4SjWqDuCsNJnXJQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", authorization)
23:10:21.306 [XNIO-1 task-3]  vLteKu-4SjWqDuCsNJnXJQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.306 [XNIO-1 task-2]  fc7l5ZkSRMyYDOp0OncCjA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.306 [XNIO-1 task-2]  fc7l5ZkSRMyYDOp0OncCjA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", authorization)
23:10:21.309 [XNIO-1 task-4]  bfyoUDoxR3CrxbLwRd6jKw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.309 [XNIO-1 task-4]  bfyoUDoxR3CrxbLwRd6jKw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.311 [XNIO-1 task-3]  vLteKu-4SjWqDuCsNJnXJQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.318 [XNIO-1 task-3]  LgRriEhmRfmhNlOldvxmUQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.318 [XNIO-1 task-3]  LgRriEhmRfmhNlOldvxmUQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.318 [XNIO-1 task-3]  LgRriEhmRfmhNlOldvxmUQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.319 [XNIO-1 task-3]  LgRriEhmRfmhNlOldvxmUQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.319 [XNIO-1 task-3]  LgRriEhmRfmhNlOldvxmUQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.321 [XNIO-1 task-2]  fc7l5ZkSRMyYDOp0OncCjA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.324 [XNIO-1 task-3]  LgRriEhmRfmhNlOldvxmUQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.327 [XNIO-1 task-4]  QXo1baq8Sii_4ByCEVvtsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.327 [XNIO-1 task-4]  QXo1baq8Sii_4ByCEVvtsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.327 [XNIO-1 task-4]  QXo1baq8Sii_4ByCEVvtsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.327 [XNIO-1 task-4]  QXo1baq8Sii_4ByCEVvtsQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = d87a2ed0-f6c7-4374-a81d-def2ec05325b scope = null
23:10:21.331 [XNIO-1 task-3]  uX_iGDZHSrCQuqgt7aRnZw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.331 [XNIO-1 task-3]  uX_iGDZHSrCQuqgt7aRnZw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.331 [XNIO-1 task-3]  uX_iGDZHSrCQuqgt7aRnZw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.332 [XNIO-1 task-3]  uX_iGDZHSrCQuqgt7aRnZw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.337 [XNIO-1 task-3]  uX_iGDZHSrCQuqgt7aRnZw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.341 [XNIO-1 task-3]  _-vHq849QLG2xH64KzRWgw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.341 [XNIO-1 task-3]  _-vHq849QLG2xH64KzRWgw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.341 [XNIO-1 task-3]  _-vHq849QLG2xH64KzRWgw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.341 [XNIO-1 task-3]  _-vHq849QLG2xH64KzRWgw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.346 [XNIO-1 task-3]  _-vHq849QLG2xH64KzRWgw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.347 [XNIO-1 task-3]  _-vHq849QLG2xH64KzRWgw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.352 [XNIO-1 task-3]  ZPwTdD0PSzqJTDkcdMqu6w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.352 [XNIO-1 task-3]  ZPwTdD0PSzqJTDkcdMqu6w DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.353 [XNIO-1 task-3]  ZPwTdD0PSzqJTDkcdMqu6w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.354 [XNIO-1 task-3]  ZPwTdD0PSzqJTDkcdMqu6w DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.359 [XNIO-1 task-3]  ZPwTdD0PSzqJTDkcdMqu6w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.367 [XNIO-1 task-4]  FLMLixkzRdqlL_8LQhALHg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.367 [XNIO-1 task-4]  FLMLixkzRdqlL_8LQhALHg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.367 [XNIO-1 task-4]  FLMLixkzRdqlL_8LQhALHg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.367 [XNIO-1 task-4]  FLMLixkzRdqlL_8LQhALHg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", authorization)
23:10:21.371 [XNIO-1 task-3]  X0NKrJXhSaa_r2PSV74-cA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.371 [XNIO-1 task-3]  X0NKrJXhSaa_r2PSV74-cA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.372 [XNIO-1 task-4]  FLMLixkzRdqlL_8LQhALHg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.372 [XNIO-1 task-3]  X0NKrJXhSaa_r2PSV74-cA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.372 [XNIO-1 task-3]  X0NKrJXhSaa_r2PSV74-cA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.380 [XNIO-1 task-4]  WoL9gGrFQoeaP1Ufibq0og DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.383 [XNIO-1 task-4]  WoL9gGrFQoeaP1Ufibq0og DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.383 [XNIO-1 task-4]  WoL9gGrFQoeaP1Ufibq0og DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.383 [XNIO-1 task-4]  WoL9gGrFQoeaP1Ufibq0og DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", authorization)
23:10:21.385 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.networknt.oauth.cache.UserMapStore delete - Delete:9e8d4db7
23:10:21.388 [XNIO-1 task-4]  WoL9gGrFQoeaP1Ufibq0og INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.388 [XNIO-1 task-3]  X0NKrJXhSaa_r2PSV74-cA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.393 [XNIO-1 task-4]  EJ5q4buhTsqzd4oI-CNQyw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.393 [XNIO-1 task-4]  EJ5q4buhTsqzd4oI-CNQyw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.393 [XNIO-1 task-4]  EJ5q4buhTsqzd4oI-CNQyw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.393 [XNIO-1 task-4]  EJ5q4buhTsqzd4oI-CNQyw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.399 [XNIO-1 task-4]  EJ5q4buhTsqzd4oI-CNQyw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.405 [XNIO-1 task-4]  7uMyGK3CRbyezW7jXzJZLQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.405 [XNIO-1 task-4]  7uMyGK3CRbyezW7jXzJZLQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.405 [XNIO-1 task-4]  7uMyGK3CRbyezW7jXzJZLQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.405 [XNIO-1 task-4]  7uMyGK3CRbyezW7jXzJZLQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:21.405 [XNIO-1 task-4]  7uMyGK3CRbyezW7jXzJZLQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.411 [XNIO-1 task-4]  7uMyGK3CRbyezW7jXzJZLQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.411 [XNIO-1 task-4]  7uMyGK3CRbyezW7jXzJZLQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.420 [XNIO-1 task-4]  a3SSTQi4RkKQl-6xhN9uWA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.420 [XNIO-1 task-4]  a3SSTQi4RkKQl-6xhN9uWA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
23:10:21.420 [XNIO-1 task-4]  a3SSTQi4RkKQl-6xhN9uWA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
23:10:21.421 [XNIO-1 task-3]  E3E96m5gRziKXYOGJIyYsw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.421 [XNIO-1 task-3]  E3E96m5gRziKXYOGJIyYsw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.421 [XNIO-1 task-4]  a3SSTQi4RkKQl-6xhN9uWA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = Bw2P9vSaSX2Vn0D6obMmPg redirectUri = http://localhost:8080/authorization
23:10:21.421 [XNIO-1 task-3]  E3E96m5gRziKXYOGJIyYsw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.421 [XNIO-1 task-3]  E3E96m5gRziKXYOGJIyYsw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.425 [XNIO-1 task-2]  QL5AGNYwQCWo2C_gNtPmkw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
23:10:21.426 [XNIO-1 task-3]  E3E96m5gRziKXYOGJIyYsw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.428 [XNIO-1 task-4]  a3SSTQi4RkKQl-6xhN9uWA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
23:10:21.431 [XNIO-1 task-3]  vi3xAvioRsmpz5LeUWre9g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.431 [XNIO-1 task-3]  vi3xAvioRsmpz5LeUWre9g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.431 [XNIO-1 task-3]  vi3xAvioRsmpz5LeUWre9g DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
	... 14 more

23:10:21.431 [XNIO-1 task-2]  QL5AGNYwQCWo2C_gNtPmkw ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:21.437 [XNIO-1 task-3]  vi3xAvioRsmpz5LeUWre9g INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.447 [XNIO-1 task-4]  -saIofaDSIOY5pzGWNH17w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.448 [XNIO-1 task-4]  -saIofaDSIOY5pzGWNH17w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.448 [XNIO-1 task-4]  -saIofaDSIOY5pzGWNH17w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.448 [XNIO-1 task-4]  -saIofaDSIOY5pzGWNH17w DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.453 [XNIO-1 task-4]  -saIofaDSIOY5pzGWNH17w INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.455 [XNIO-1 task-4]  odTmwf1zSHuCeUuXc8YDQQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.455 [XNIO-1 task-4]  odTmwf1zSHuCeUuXc8YDQQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.456 [XNIO-1 task-4]  odTmwf1zSHuCeUuXc8YDQQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.456 [XNIO-1 task-4]  odTmwf1zSHuCeUuXc8YDQQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 760b6ae1-edd7-4abd-a6f5-f34a8c5c7de9 scope = null
23:10:21.465 [XNIO-1 task-3]  6uVEj5KyQX2oV-d6O-Kkrg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.465 [XNIO-1 task-3]  6uVEj5KyQX2oV-d6O-Kkrg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.466 [XNIO-1 task-3]  6uVEj5KyQX2oV-d6O-Kkrg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.466 [XNIO-1 task-3]  6uVEj5KyQX2oV-d6O-Kkrg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.469 [XNIO-1 task-4]  odTmwf1zSHuCeUuXc8YDQQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.472 [XNIO-1 task-3]  6uVEj5KyQX2oV-d6O-Kkrg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.481 [XNIO-1 task-4]  jx8WrZJSQuSwiozj79nioQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.482 [XNIO-1 task-4]  jx8WrZJSQuSwiozj79nioQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.482 [XNIO-1 task-4]  jx8WrZJSQuSwiozj79nioQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.482 [XNIO-1 task-4]  jx8WrZJSQuSwiozj79nioQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.485 [XNIO-1 task-3]  bLctoJU6R86RsK9Xm51yeA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.485 [XNIO-1 task-3]  bLctoJU6R86RsK9Xm51yeA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.485 [XNIO-1 task-3]  bLctoJU6R86RsK9Xm51yeA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.485 [XNIO-1 task-3]  bLctoJU6R86RsK9Xm51yeA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 1fd7108c-29b1-46e1-8973-8a102432e6cc scope = null
23:10:21.487 [XNIO-1 task-4]  jx8WrZJSQuSwiozj79nioQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
com.networknt.exception.ApiException: {"statusCode":404,"code":"ERR12029","message":"REFRESH_TOKEN_NOT_FOUND","description":"Refresh token 1fd7108c-29b1-46e1-8973-8a102432e6cc is not found.","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:120)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:21.494 [XNIO-1 task-3]  T9ndykVtQlaFQ1Mn3EUnWg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.495 [XNIO-1 task-3]  T9ndykVtQlaFQ1Mn3EUnWg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.495 [XNIO-1 task-3]  T9ndykVtQlaFQ1Mn3EUnWg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.495 [XNIO-1 task-3]  T9ndykVtQlaFQ1Mn3EUnWg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:21.498 [XNIO-1 task-4]  DwNPSw4bS3SuDMkDS5tVeA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.498 [XNIO-1 task-4]  DwNPSw4bS3SuDMkDS5tVeA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.498 [XNIO-1 task-4]  DwNPSw4bS3SuDMkDS5tVeA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.498 [XNIO-1 task-4]  DwNPSw4bS3SuDMkDS5tVeA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:21.500 [XNIO-1 task-3]  T9ndykVtQlaFQ1Mn3EUnWg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.505 [XNIO-1 task-4]  DwNPSw4bS3SuDMkDS5tVeA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.505 [XNIO-1 task-4]  DwNPSw4bS3SuDMkDS5tVeA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.507 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.RefreshTokenMapStore load - Load:94915ba9-bec8-4d88-aa37-ab71e51c3ae0
23:10:21.509 [XNIO-1 task-3]  Z91-PS9sQhmqmV8hu874dw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.509 [XNIO-1 task-3]  Z91-PS9sQhmqmV8hu874dw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.509 [XNIO-1 task-3]  Z91-PS9sQhmqmV8hu874dw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.509 [XNIO-1 task-3]  Z91-PS9sQhmqmV8hu874dw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.516 [hz._hzInstance_1_dev.partition-operation.thread-2]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:f3dc256b-b531-473b-8acf-31e7b6679975
23:10:21.518 [XNIO-1 task-4]  Bf_3iiHSQF-RTMBscRHE8g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.518 [XNIO-1 task-4]  Bf_3iiHSQF-RTMBscRHE8g DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.518 [XNIO-1 task-4]  Bf_3iiHSQF-RTMBscRHE8g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.519 [XNIO-1 task-4]  Bf_3iiHSQF-RTMBscRHE8g DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YmRkYWM2NmMtYzZhOS00OGE5LTkxYWMtYjE2OTUwOTUzMDA4OlZxZzI5VGRZU1RPNHRkcmZ3S1NVVkE=", "Basic YmRkYWM2NmMtYzZhOS00OGE5LTkxYWMtYjE2OTUwOTUzMDA4OlZxZzI5VGRZU1RPNHRkcmZ3S1NVVkE=", authorization)
23:10:21.519 [hz._hzInstance_1_dev.partition-operation.thread-2]   DEBUG c.n.oauth.cache.ClientMapStore store - Store:f3dc256b-b531-473b-8acf-31e7b6679975
23:10:21.520 [XNIO-1 task-3]  HQwuaN-yRUO9CZM7bad4fQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.522 [XNIO-1 task-3]  HQwuaN-yRUO9CZM7bad4fQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.522 [XNIO-1 task-3]  HQwuaN-yRUO9CZM7bad4fQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.522 [XNIO-1 task-3]  HQwuaN-yRUO9CZM7bad4fQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:21.523 [XNIO-1 task-2]  2ZnNXilvQtCn1UB-UqBkgw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.523 [XNIO-1 task-2]  2ZnNXilvQtCn1UB-UqBkgw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.523 [XNIO-1 task-2]  2ZnNXilvQtCn1UB-UqBkgw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.523 [XNIO-1 task-2]  2ZnNXilvQtCn1UB-UqBkgw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.524 [XNIO-1 task-4]  Bf_3iiHSQF-RTMBscRHE8g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.526 [XNIO-1 task-4]  Bf_3iiHSQF-RTMBscRHE8g INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.529 [XNIO-1 task-2]  2ZnNXilvQtCn1UB-UqBkgw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.535 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:d1949c2f-d446-4ae0-b6aa-dd0bede13d13
23:10:21.535 [XNIO-1 task-2]  ryHIynK1T6q3KJL-EN3oIw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.535 [XNIO-1 task-2]  ryHIynK1T6q3KJL-EN3oIw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.536 [XNIO-1 task-2]  ryHIynK1T6q3KJL-EN3oIw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.536 [XNIO-1 task-2]  ryHIynK1T6q3KJL-EN3oIw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.540 [XNIO-1 task-3]  HQwuaN-yRUO9CZM7bad4fQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.541 [XNIO-1 task-2]  ryHIynK1T6q3KJL-EN3oIw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
23:10:21.554 [XNIO-1 task-2]  vphT3lz5SoGII-5zifL-2g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.554 [XNIO-1 task-2]  vphT3lz5SoGII-5zifL-2g DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.554 [XNIO-1 task-2]  vphT3lz5SoGII-5zifL-2g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.554 [XNIO-1 task-2]  vphT3lz5SoGII-5zifL-2g DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.561 [XNIO-1 task-3]  nQrtVcJqQUawEa-3Dj9riQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.562 [XNIO-1 task-3]  nQrtVcJqQUawEa-3Dj9riQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.562 [XNIO-1 task-3]  nQrtVcJqQUawEa-3Dj9riQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.562 [XNIO-1 task-2]  vphT3lz5SoGII-5zifL-2g DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.562 [XNIO-1 task-3]  nQrtVcJqQUawEa-3Dj9riQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = JsvCX1svQGSchj83aC7qZQ redirectUri = http://localhost:8080/authorization
23:10:21.567 [XNIO-1 task-3]  nQrtVcJqQUawEa-3Dj9riQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:21.571 [XNIO-1 task-3]  kCNHoQ3ATaGLMxgcchPrHw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.571 [XNIO-1 task-3]  kCNHoQ3ATaGLMxgcchPrHw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.571 [XNIO-1 task-3]  kCNHoQ3ATaGLMxgcchPrHw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.571 [XNIO-1 task-3]  kCNHoQ3ATaGLMxgcchPrHw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.577 [XNIO-1 task-3]  kCNHoQ3ATaGLMxgcchPrHw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.583 [XNIO-1 task-3]  KWD9ehEJSam-B3hVA7n4vQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.583 [XNIO-1 task-3]  KWD9ehEJSam-B3hVA7n4vQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.583 [XNIO-1 task-3]  KWD9ehEJSam-B3hVA7n4vQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.583 [XNIO-1 task-3]  KWD9ehEJSam-B3hVA7n4vQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.587 [XNIO-1 task-2]  hrm19DjsSkqQkeHKd_ss6A DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.587 [XNIO-1 task-2]  hrm19DjsSkqQkeHKd_ss6A DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.588 [XNIO-1 task-2]  hrm19DjsSkqQkeHKd_ss6A DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.588 [XNIO-1 task-2]  hrm19DjsSkqQkeHKd_ss6A DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", authorization)
23:10:21.589 [XNIO-1 task-3]  KWD9ehEJSam-B3hVA7n4vQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.592 [XNIO-1 task-3]  K_786HY8TeK_ExLePOWwZg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.592 [XNIO-1 task-3]  K_786HY8TeK_ExLePOWwZg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.592 [XNIO-1 task-3]  K_786HY8TeK_ExLePOWwZg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.592 [XNIO-1 task-3]  K_786HY8TeK_ExLePOWwZg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NGFjZmVkODktOWYxNi00ZDBjLTlmMWYtYjgwMzhiMjgyMTBjOmttWHpBcGhOUkkyUzNaNlFOQjhGTnc=", "Basic NGFjZmVkODktOWYxNi00ZDBjLTlmMWYtYjgwMzhiMjgyMTBjOmttWHpBcGhOUkkyUzNaNlFOQjhGTnc=", authorization)
23:10:21.593 [XNIO-1 task-2]  hrm19DjsSkqQkeHKd_ss6A DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.594 [XNIO-1 task-2]  hrm19DjsSkqQkeHKd_ss6A INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.596 [XNIO-1 task-4]  VsiqL6EWRzCo2MRmfX6ODA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.597 [XNIO-1 task-4]  VsiqL6EWRzCo2MRmfX6ODA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.597 [XNIO-1 task-4]  VsiqL6EWRzCo2MRmfX6ODA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.597 [XNIO-1 task-4]  VsiqL6EWRzCo2MRmfX6ODA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.602 [XNIO-1 task-3]  K_786HY8TeK_ExLePOWwZg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.602 [XNIO-1 task-4]  VsiqL6EWRzCo2MRmfX6ODA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.608 [XNIO-1 task-2]  UR9S6ovERcyJqLtNWyhwSw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.608 [XNIO-1 task-2]  UR9S6ovERcyJqLtNWyhwSw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.608 [XNIO-1 task-2]  UR9S6ovERcyJqLtNWyhwSw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.608 [XNIO-1 task-2]  UR9S6ovERcyJqLtNWyhwSw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic OTk3Mzc5ZmEtM2ZiNS00ZDI2LWFlZjAtMGNlNTE3NzAxNWNmOlFiODF4QU5XVDlxUTVJQVhxMDN6NkE=", "Basic OTk3Mzc5ZmEtM2ZiNS00ZDI2LWFlZjAtMGNlNTE3NzAxNWNmOlFiODF4QU5XVDlxUTVJQVhxMDN6NkE=", authorization)
23:10:21.621 [XNIO-1 task-2]  UR9S6ovERcyJqLtNWyhwSw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.625 [XNIO-1 task-2]  rQBSS4gmRXOaKh_dDya2Aw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.625 [XNIO-1 task-2]  rQBSS4gmRXOaKh_dDya2Aw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.625 [XNIO-1 task-2]  rQBSS4gmRXOaKh_dDya2Aw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.625 [XNIO-1 task-2]  rQBSS4gmRXOaKh_dDya2Aw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.630 [XNIO-1 task-2]  rQBSS4gmRXOaKh_dDya2Aw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.634 [XNIO-1 task-2]  slSfFgzNSLW4QZbvW61PsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.634 [XNIO-1 task-2]  slSfFgzNSLW4QZbvW61PsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.634 [XNIO-1 task-2]  slSfFgzNSLW4QZbvW61PsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.634 [XNIO-1 task-2]  slSfFgzNSLW4QZbvW61PsQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MDE1NzM0YWYtMjkzYi00MmYxLTlmODUtOTkxOGE1ZDhmOGVhOkE0Y1RMNFZlUUJpUS1CRXpPS2k3VkE=", "Basic MDE1NzM0YWYtMjkzYi00MmYxLTlmODUtOTkxOGE1ZDhmOGVhOkE0Y1RMNFZlUUJpUS1CRXpPS2k3VkE=", authorization)
23:10:21.635 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:985d63b7
23:10:21.636 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:985d63b7
23:10:21.642 [XNIO-1 task-3]  R5qFpbCfTY2AXB_vT_JDrw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.642 [XNIO-1 task-3]  R5qFpbCfTY2AXB_vT_JDrw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.643 [XNIO-1 task-3]  R5qFpbCfTY2AXB_vT_JDrw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.643 [XNIO-1 task-3]  R5qFpbCfTY2AXB_vT_JDrw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.644 [XNIO-1 task-2]  slSfFgzNSLW4QZbvW61PsQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.646 [XNIO-1 task-4]  SIpOVIipRm6VeIukF4KYfQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.646 [XNIO-1 task-4]  SIpOVIipRm6VeIukF4KYfQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.646 [XNIO-1 task-4]  SIpOVIipRm6VeIukF4KYfQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.646 [XNIO-1 task-4]  SIpOVIipRm6VeIukF4KYfQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MjgzOWNjY2QtMjliMi00MjFiLTg3MTMtYTQyNzA4OGNiZGM2OmVMWkNrOXdXUkhhRUl4WHg4RGZfM0E=", "Basic MjgzOWNjY2QtMjliMi00MjFiLTg3MTMtYTQyNzA4OGNiZGM2OmVMWkNrOXdXUkhhRUl4WHg4RGZfM0E=", authorization)
23:10:21.648 [XNIO-1 task-3]  R5qFpbCfTY2AXB_vT_JDrw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.651 [XNIO-1 task-4]  SIpOVIipRm6VeIukF4KYfQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:21.654 [XNIO-1 task-4]  SqAGAwq6Tiel_TtKyCIOcw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.654 [XNIO-1 task-4]  SqAGAwq6Tiel_TtKyCIOcw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.654 [XNIO-1 task-4]  SqAGAwq6Tiel_TtKyCIOcw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.654 [XNIO-1 task-4]  SqAGAwq6Tiel_TtKyCIOcw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.659 [XNIO-1 task-4]  SqAGAwq6Tiel_TtKyCIOcw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.669 [XNIO-1 task-4]  k1uH5iwKS1Sn1uxWmF-SFg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.669 [XNIO-1 task-4]  k1uH5iwKS1Sn1uxWmF-SFg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.669 [XNIO-1 task-4]  k1uH5iwKS1Sn1uxWmF-SFg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.669 [XNIO-1 task-4]  k1uH5iwKS1Sn1uxWmF-SFg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.674 [XNIO-1 task-4]  k1uH5iwKS1Sn1uxWmF-SFg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.682 [hz._hzInstance_1_dev.partition-operation.thread-9]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:d126dcf8-4410-421b-a957-71e4635e7bb8
23:10:21.683 [hz._hzInstance_1_dev.partition-operation.thread-9]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:d126dcf8-4410-421b-a957-71e4635e7bb8
23:10:21.684 [XNIO-1 task-4]  XkW5aJ_1RjGXPwYxA6rqhA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.686 [XNIO-1 task-4]  XkW5aJ_1RjGXPwYxA6rqhA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.687 [XNIO-1 task-4]  XkW5aJ_1RjGXPwYxA6rqhA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.687 [XNIO-1 task-4]  XkW5aJ_1RjGXPwYxA6rqhA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", "Basic NzIxNDhjZDYtZmYwNi00ZjMyLTkzY2MtYjQzZjhlMTU3NWRhOjV1UkVjaDEyUmZPY0kteURXamZtT3c=", authorization)
23:10:21.689 [XNIO-1 task-2]  b0Wx4qxeRb-MLnSYrkj9WQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.689 [XNIO-1 task-2]  b0Wx4qxeRb-MLnSYrkj9WQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.689 [XNIO-1 task-2]  b0Wx4qxeRb-MLnSYrkj9WQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.689 [XNIO-1 task-2]  b0Wx4qxeRb-MLnSYrkj9WQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MDE1NzM0YWYtMjkzYi00MmYxLTlmODUtOTkxOGE1ZDhmOGVhOkE0Y1RMNFZlUUJpUS1CRXpPS2k3VkE=", "Basic MDE1NzM0YWYtMjkzYi00MmYxLTlmODUtOTkxOGE1ZDhmOGVhOkE0Y1RMNFZlUUJpUS1CRXpPS2k3VkE=", authorization)
23:10:21.693 [XNIO-1 task-4]  XkW5aJ_1RjGXPwYxA6rqhA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.697 [XNIO-1 task-2]  b0Wx4qxeRb-MLnSYrkj9WQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.697 [XNIO-1 task-2]  b0Wx4qxeRb-MLnSYrkj9WQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.699 [XNIO-1 task-4]  u0mnkRU3TCiv0boDUuythw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.699 [XNIO-1 task-4]  u0mnkRU3TCiv0boDUuythw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.699 [XNIO-1 task-4]  u0mnkRU3TCiv0boDUuythw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.699 [XNIO-1 task-4]  u0mnkRU3TCiv0boDUuythw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.704 [XNIO-1 task-4]  u0mnkRU3TCiv0boDUuythw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.714 [XNIO-1 task-2]  arcw2ol2Sf2d7dmHQtwCZA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.714 [XNIO-1 task-2]  arcw2ol2Sf2d7dmHQtwCZA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.714 [XNIO-1 task-2]  arcw2ol2Sf2d7dmHQtwCZA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.714 [XNIO-1 task-2]  arcw2ol2Sf2d7dmHQtwCZA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.720 [XNIO-1 task-2]  arcw2ol2Sf2d7dmHQtwCZA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
23:10:21.731 [XNIO-1 task-2]  qVvD2hnNSlqnzwPycGSkJg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.731 [XNIO-1 task-2]  qVvD2hnNSlqnzwPycGSkJg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.731 [XNIO-1 task-2]  qVvD2hnNSlqnzwPycGSkJg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.731 [XNIO-1 task-2]  qVvD2hnNSlqnzwPycGSkJg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:21.731 [hz._hzInstance_1_dev.partition-operation.thread-13]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:08d5b9fb-36f7-48de-bf17-bb8ef26af4b5
23:10:21.733 [hz._hzInstance_1_dev.partition-operation.thread-13]   DEBUG c.n.oauth.cache.ClientMapStore store - Store:08d5b9fb-36f7-48de-bf17-bb8ef26af4b5
23:10:21.733 [hz._hzInstance_1_dev.partition-operation.thread-13]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:08d5b9fb-36f7-48de-bf17-bb8ef26af4b5
23:10:21.737 [XNIO-1 task-2]  qVvD2hnNSlqnzwPycGSkJg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.738 [XNIO-1 task-2]  qVvD2hnNSlqnzwPycGSkJg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.739 [XNIO-1 task-4]  YckqoPv5TkukmsVS7tAkzw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.741 [XNIO-1 task-4]  YckqoPv5TkukmsVS7tAkzw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.741 [XNIO-1 task-4]  YckqoPv5TkukmsVS7tAkzw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
23:10:21.747 [XNIO-1 task-4]  YckqoPv5TkukmsVS7tAkzw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)

23:10:21.751 [XNIO-1 task-2]  SzJbDq3eT2ut9ZnTWXLJPw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.757 [XNIO-1 task-4]  Qu3arDPbRIKTQpmIoF5ltw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.757 [XNIO-1 task-4]  Qu3arDPbRIKTQpmIoF5ltw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.758 [XNIO-1 task-4]  Qu3arDPbRIKTQpmIoF5ltw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.758 [XNIO-1 task-4]  Qu3arDPbRIKTQpmIoF5ltw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:21.763 [XNIO-1 task-4]  Qu3arDPbRIKTQpmIoF5ltw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.766 [XNIO-1 task-4]  JmlkBFEdSqeiReTqaDtohA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.766 [XNIO-1 task-4]  JmlkBFEdSqeiReTqaDtohA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.766 [XNIO-1 task-4]  JmlkBFEdSqeiReTqaDtohA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.766 [XNIO-1 task-4]  JmlkBFEdSqeiReTqaDtohA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:21.771 [XNIO-1 task-2]  6bDoeKrkREurTWHNpD2Zkw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.771 [XNIO-1 task-2]  6bDoeKrkREurTWHNpD2Zkw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.771 [XNIO-1 task-2]  6bDoeKrkREurTWHNpD2Zkw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.772 [XNIO-1 task-2]  6bDoeKrkREurTWHNpD2Zkw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjczM2VjMGYtZTJiMy00OWJjLWFiODgtMDA5MmVlYWQ2ZTNiOnQtWS1YNl9QUTIySzNJQW93RzlMWlE=", "Basic ZjczM2VjMGYtZTJiMy00OWJjLWFiODgtMDA5MmVlYWQ2ZTNiOnQtWS1YNl9QUTIySzNJQW93RzlMWlE=", authorization)
23:10:21.772 [XNIO-1 task-4]  JmlkBFEdSqeiReTqaDtohA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.772 [XNIO-1 task-4]  JmlkBFEdSqeiReTqaDtohA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.773 [XNIO-1 task-3]  NA3OCC_gS9avAuzVQJMkxg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.774 [XNIO-1 task-3]  NA3OCC_gS9avAuzVQJMkxg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.774 [XNIO-1 task-3]  NA3OCC_gS9avAuzVQJMkxg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.774 [XNIO-1 task-3]  NA3OCC_gS9avAuzVQJMkxg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = M3EYZAC6Q5-JWje6bZ6hWQ redirectUri = http://localhost:8080/authorization
23:10:21.780 [XNIO-1 task-2]  6bDoeKrkREurTWHNpD2Zkw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
Jun 28, 2024 11:10:22 PM com.hazelcast.map.impl.operation.DeleteOperation
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
23:10:21.785 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.RefreshTokenMapStore store - Store:c3a0cd26-0367-4005-b5f0-4ab31b22c9a3
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
23:10:21.790 [XNIO-1 task-4]  tj9PRgPJQcelC-1c7Eu7VA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
23:10:21.790 [XNIO-1 task-4]  tj9PRgPJQcelC-1c7Eu7VA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
23:10:21.790 [XNIO-1 task-4]  tj9PRgPJQcelC-1c7Eu7VA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:21.790 [XNIO-1 task-4]  tj9PRgPJQcelC-1c7Eu7VA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.797 [XNIO-1 task-4]  tj9PRgPJQcelC-1c7Eu7VA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.797 [XNIO-1 task-4]  tj9PRgPJQcelC-1c7Eu7VA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.804 [XNIO-1 task-4]  JTq-E3vKTQGiy-u3vwMGdw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.804 [XNIO-1 task-4]  JTq-E3vKTQGiy-u3vwMGdw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.804 [XNIO-1 task-4]  JTq-E3vKTQGiy-u3vwMGdw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.804 [XNIO-1 task-4]  JTq-E3vKTQGiy-u3vwMGdw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.809 [XNIO-1 task-4]  JTq-E3vKTQGiy-u3vwMGdw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.810 [XNIO-1 task-4]  JTq-E3vKTQGiy-u3vwMGdw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.811 [XNIO-1 task-3]  PVxVcPQgTTiXVkEb-M4_ZA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
23:10:21.812 [XNIO-1 task-3]  PVxVcPQgTTiXVkEb-M4_ZA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.812 [XNIO-1 task-3]  PVxVcPQgTTiXVkEb-M4_ZA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = SutkLgzlT9uEBISvWB0Wqg redirectUri = http://localhost:8080/authorization
23:10:21.814 [XNIO-1 task-4]  FNG5NgDhT3q-aZ9Zn12btA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.814 [XNIO-1 task-4]  FNG5NgDhT3q-aZ9Zn12btA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.814 [XNIO-1 task-4]  FNG5NgDhT3q-aZ9Zn12btA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.815 [XNIO-1 task-4]  FNG5NgDhT3q-aZ9Zn12btA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.820 [XNIO-1 task-3]  PVxVcPQgTTiXVkEb-M4_ZA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.820 [XNIO-1 task-4]  FNG5NgDhT3q-aZ9Zn12btA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.828 [XNIO-1 task-3]  P5HEV6K_Tn6NrognHHuKqg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.828 [XNIO-1 task-3]  P5HEV6K_Tn6NrognHHuKqg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.828 [XNIO-1 task-3]  P5HEV6K_Tn6NrognHHuKqg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)
	... 14 more

Jun 28, 2024 11:10:22 PM com.hazelcast.map.impl.operation.DeleteOperation
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
23:10:21.848 [XNIO-1 task-3]  UezutotmR82ft7cIDQLstQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.856 [XNIO-1 task-3]  K8mGqYh6ThWlOxSvdyiTFw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.856 [XNIO-1 task-3]  K8mGqYh6ThWlOxSvdyiTFw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
23:10:21.857 [XNIO-1 task-3]  K8mGqYh6ThWlOxSvdyiTFw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.857 [XNIO-1 task-3]  K8mGqYh6ThWlOxSvdyiTFw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.857 [XNIO-1 task-3]  K8mGqYh6ThWlOxSvdyiTFw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
23:10:21.861 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.n.o.cache.ServiceEndpointMapStore delete - Delete:985d63b7
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)
	... 14 more

23:10:21.865 [XNIO-1 task-4]  eUmkqUfrRraEEbiQQQKM7A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.865 [XNIO-1 task-4]  eUmkqUfrRraEEbiQQQKM7A DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.865 [XNIO-1 task-4]  eUmkqUfrRraEEbiQQQKM7A DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = W2C-BABcTyufEydL8Jj-bQ redirectUri = http://localhost:8080/authorization
23:10:21.869 [XNIO-1 task-3]  JAzFlgraQ0WdGC5n4o6FDw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.869 [XNIO-1 task-3]  JAzFlgraQ0WdGC5n4o6FDw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.870 [XNIO-1 task-3]  JAzFlgraQ0WdGC5n4o6FDw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.870 [XNIO-1 task-3]  JAzFlgraQ0WdGC5n4o6FDw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.872 [XNIO-1 task-4]  eUmkqUfrRraEEbiQQQKM7A DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.876 [XNIO-1 task-3]  JAzFlgraQ0WdGC5n4o6FDw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.888 [XNIO-1 task-4]  zjMrOYaETSab_lLWUfkpbQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.888 [XNIO-1 task-4]  zjMrOYaETSab_lLWUfkpbQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.888 [XNIO-1 task-4]  zjMrOYaETSab_lLWUfkpbQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.888 [XNIO-1 task-4]  zjMrOYaETSab_lLWUfkpbQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:21.891 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:bddac66c-c6a9-48a9-91ac-b16950953008
23:10:21.894 [XNIO-1 task-4]  zjMrOYaETSab_lLWUfkpbQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
23:10:21.895 [XNIO-1 task-3]  CBIEoVm1QiKVVJofpnBIdg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.895 [XNIO-1 task-3]  CBIEoVm1QiKVVJofpnBIdg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.895 [XNIO-1 task-3]  CBIEoVm1QiKVVJofpnBIdg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.895 [XNIO-1 task-3]  CBIEoVm1QiKVVJofpnBIdg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:21.901 [XNIO-1 task-3]  CBIEoVm1QiKVVJofpnBIdg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:21.902 [XNIO-1 task-3]  T3o8n1ohTkuDKGXXnE8p2Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.902 [XNIO-1 task-3]  T3o8n1ohTkuDKGXXnE8p2Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.903 [XNIO-1 task-3]  T3o8n1ohTkuDKGXXnE8p2Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.903 [XNIO-1 task-3]  T3o8n1ohTkuDKGXXnE8p2Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:21.908 [XNIO-1 task-3]  T3o8n1ohTkuDKGXXnE8p2Q DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.912 [hz._hzInstance_1_dev.partition-operation.thread-10]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:d1949c2f-d446-4ae0-b6aa-dd0bede13d13
23:10:21.912 [XNIO-1 task-3]  P10JekpKSKGdzwJy--1ASw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.912 [XNIO-1 task-3]  P10JekpKSKGdzwJy--1ASw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.912 [XNIO-1 task-3]  P10JekpKSKGdzwJy--1ASw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.912 [XNIO-1 task-3]  P10JekpKSKGdzwJy--1ASw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = b3e98af0-e688-410a-bfcd-f3aaef9b4d8f scope = null
23:10:21.913 [XNIO-1 task-4]  -v9cJr1xShebzzysug4vPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.913 [XNIO-1 task-4]  -v9cJr1xShebzzysug4vPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.913 [XNIO-1 task-4]  -v9cJr1xShebzzysug4vPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.913 [XNIO-1 task-4]  -v9cJr1xShebzzysug4vPQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
Jun 28, 2024 11:10:22 PM com.hazelcast.map.impl.operation.DeleteOperation
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:416)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	... 14 more

Jun 28, 2024 11:10:22 PM com.hazelcast.map.impl.operation.DeleteOperation
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
23:10:21.921 [XNIO-1 task-4]  -v9cJr1xShebzzysug4vPQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.926 [XNIO-1 task-2]  izJ2u_YsRB6MQvpwdc3vGQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:21.926 [XNIO-1 task-2]  izJ2u_YsRB6MQvpwdc3vGQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.926 [XNIO-1 task-2]  izJ2u_YsRB6MQvpwdc3vGQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.928 [XNIO-1 task-4]  zkXmGqFaS8KVAgVa9WZoGA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.928 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.n.oauth.cache.RefreshTokenMapStore store - Store:50eca120-7e07-4b98-8ffe-66e099f3f481
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
23:10:21.931 [XNIO-1 task-4]  zkXmGqFaS8KVAgVa9WZoGA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.931 [XNIO-1 task-4]  zkXmGqFaS8KVAgVa9WZoGA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.931 [XNIO-1 task-4]  zkXmGqFaS8KVAgVa9WZoGA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
23:10:21.938 [XNIO-1 task-3]  P10JekpKSKGdzwJy--1ASw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.938 [XNIO-1 task-4]  zkXmGqFaS8KVAgVa9WZoGA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.939 [XNIO-1 task-4]  zkXmGqFaS8KVAgVa9WZoGA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.947 [XNIO-1 task-2]  bpZJeU0tR3WhvXDFqvPgvw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	... 14 more

Jun 28, 2024 11:10:22 PM com.hazelcast.map.impl.operation.DeleteOperation
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
23:10:21.954 [XNIO-1 task-2]  bpZJeU0tR3WhvXDFqvPgvw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.954 [XNIO-1 task-2]  bpZJeU0tR3WhvXDFqvPgvw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.954 [XNIO-1 task-2]  bpZJeU0tR3WhvXDFqvPgvw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
23:10:21.954 [XNIO-1 task-3]  7EnTcoOWS4uuSDBPUdTbcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.955 [XNIO-1 task-3]  7EnTcoOWS4uuSDBPUdTbcQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
23:10:21.955 [XNIO-1 task-3]  7EnTcoOWS4uuSDBPUdTbcQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YTdhZjJhOTQtZjhiYy00ZTI1LWI1ZDUtOTUxY2MzMzFhNGQ5Om1Xa1RrZDB5U2tXSDdYbzg5R3lvVVE=", "Basic YTdhZjJhOTQtZjhiYy00ZTI1LWI1ZDUtOTUxY2MzMzFhNGQ5Om1Xa1RrZDB5U2tXSDdYbzg5R3lvVVE=", authorization)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
23:10:21.956 [XNIO-1 task-4]  xlvMMOecRxq8ryo2atdtJg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.956 [XNIO-1 task-4]  xlvMMOecRxq8ryo2atdtJg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.956 [XNIO-1 task-4]  xlvMMOecRxq8ryo2atdtJg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.956 [XNIO-1 task-4]  xlvMMOecRxq8ryo2atdtJg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.956 [XNIO-1 task-4]  xlvMMOecRxq8ryo2atdtJg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = a0b557d3-aa04-49cd-8501-7a40dfeccaf9 scope = null
23:10:21.960 [XNIO-1 task-3]  7EnTcoOWS4uuSDBPUdTbcQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
23:10:21.966 [XNIO-1 task-3]  AK7s0xpJRoSdBZJnoEiVVw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
23:10:21.967 [XNIO-1 task-3]  AK7s0xpJRoSdBZJnoEiVVw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.968 [XNIO-1 task-3]  AK7s0xpJRoSdBZJnoEiVVw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", authorization)
23:10:21.968 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.n.oauth.cache.RefreshTokenMapStore store - Store:a0a049b3-a744-4e07-9944-696271db6f44
23:10:21.972 [XNIO-1 task-3]  AK7s0xpJRoSdBZJnoEiVVw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
23:10:21.976 [XNIO-1 task-4]  xlvMMOecRxq8ryo2atdtJg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.976 [XNIO-1 task-4]  xlvMMOecRxq8ryo2atdtJg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config

23:10:21.981 [XNIO-1 task-2]  M9RJL7EZQvWSeYCD4nWJyQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.982 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.982 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.982 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.982 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.982 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:21.983 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", authorization)
23:10:21.983 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:21.987 [hz._hzInstance_1_dev.partition-operation.thread-6]   DEBUG c.n.oauth.cache.RefreshTokenMapStore delete - Delete:a0a049b3-a744-4e07-9944-696271db6f44
23:10:21.988 [XNIO-1 task-3]  kLxBW4-tSgS1EQJuF3piOQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:21.989 [hz._hzInstance_1_dev.partition-operation.thread-5]   DEBUG c.n.oauth.cache.ClientMapStore store - Store:2cb496a7-06cc-4ce0-8f26-c35e4d293fdc
23:10:21.992 [XNIO-1 task-3]  UUpb3ScDT6S1XgQSPLA0Nw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.992 [XNIO-1 task-3]  UUpb3ScDT6S1XgQSPLA0Nw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:21.992 [XNIO-1 task-3]  UUpb3ScDT6S1XgQSPLA0Nw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:21.992 [XNIO-1 task-3]  UUpb3ScDT6S1XgQSPLA0Nw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", authorization)
23:10:21.994 [XNIO-1 task-2]  M9RJL7EZQvWSeYCD4nWJyQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:21.998 [XNIO-1 task-3]  UUpb3ScDT6S1XgQSPLA0Nw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.013 [XNIO-1 task-2]  KuZFczUwT16TqigY5yCB7w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.013 [XNIO-1 task-2]  KuZFczUwT16TqigY5yCB7w DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.013 [XNIO-1 task-2]  KuZFczUwT16TqigY5yCB7w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.013 [XNIO-1 task-2]  KuZFczUwT16TqigY5yCB7w DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", "Basic ZjNkYzI1NmItYjUzMS00NzNiLThhY2YtMzFlN2I2Njc5OTc1OkFHVDhKXzJNVHpxRGFCSHZNbzdDcXc=", authorization)
23:10:22.018 [XNIO-1 task-2]  KuZFczUwT16TqigY5yCB7w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.024 [XNIO-1 task-2]  jP5Tk7qbTHWx_4ukffIihw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.024 [XNIO-1 task-2]  jP5Tk7qbTHWx_4ukffIihw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.024 [XNIO-1 task-2]  jP5Tk7qbTHWx_4ukffIihw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.024 [XNIO-1 task-2]  jP5Tk7qbTHWx_4ukffIihw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YWIwMzRmZDgtN2Q3Yi00ZmQwLWFjYzItMWUxMGUxNWNlY2Y5OkFVYkw3N1ZzUi02Q1BhNXJTMmNzTlE=", "Basic YWIwMzRmZDgtN2Q3Yi00ZmQwLWFjYzItMWUxMGUxNWNlY2Y5OkFVYkw3N1ZzUi02Q1BhNXJTMmNzTlE=", authorization)
23:10:22.031 [XNIO-1 task-2]  jP5Tk7qbTHWx_4ukffIihw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.038 [XNIO-1 task-2]  QCiPSqcSQhOZ_kdPIAl4uQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.038 [XNIO-1 task-2]  QCiPSqcSQhOZ_kdPIAl4uQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.038 [XNIO-1 task-2]  QCiPSqcSQhOZ_kdPIAl4uQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.038 [XNIO-1 task-2]  QCiPSqcSQhOZ_kdPIAl4uQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YWIwMzRmZDgtN2Q3Yi00ZmQwLWFjYzItMWUxMGUxNWNlY2Y5OkFVYkw3N1ZzUi02Q1BhNXJTMmNzTlE=", "Basic YWIwMzRmZDgtN2Q3Yi00ZmQwLWFjYzItMWUxMGUxNWNlY2Y5OkFVYkw3N1ZzUi02Q1BhNXJTMmNzTlE=", authorization)
23:10:22.043 [XNIO-1 task-3]  WloCqrqPT9GzalVXGXBG3Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.043 [XNIO-1 task-3]  WloCqrqPT9GzalVXGXBG3Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.043 [XNIO-1 task-3]  WloCqrqPT9GzalVXGXBG3Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.043 [XNIO-1 task-3]  WloCqrqPT9GzalVXGXBG3Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic YmRkYWM2NmMtYzZhOS00OGE5LTkxYWMtYjE2OTUwOTUzMDA4OlZxZzI5VGRZU1RPNHRkcmZ3S1NVVkE=", "Basic YmRkYWM2NmMtYzZhOS00OGE5LTkxYWMtYjE2OTUwOTUzMDA4OlZxZzI5VGRZU1RPNHRkcmZ3S1NVVkE=", authorization)
23:10:22.044 [XNIO-1 task-2]  QCiPSqcSQhOZ_kdPIAl4uQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.047 [XNIO-1 task-2]  CVx-hkO1Tj-KpO2xUqUGMg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.048 [XNIO-1 task-2]  CVx-hkO1Tj-KpO2xUqUGMg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.048 [XNIO-1 task-2]  CVx-hkO1Tj-KpO2xUqUGMg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.048 [XNIO-1 task-2]  CVx-hkO1Tj-KpO2xUqUGMg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", "Basic ZjNkOWE3OTQtMDc1MC00YTNjLThiODAtZmZlMmFjYjQ4MzFjOm16UVhTVHlmUU42SzQtM3kyLV9yOXc=", authorization)
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
23:10:22.048 [XNIO-1 task-2]  CVx-hkO1Tj-KpO2xUqUGMg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.050 [XNIO-1 task-3]  WloCqrqPT9GzalVXGXBG3Q DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
23:10:22.053 [XNIO-1 task-2]  CVx-hkO1Tj-KpO2xUqUGMg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.053 [XNIO-1 task-2]  CVx-hkO1Tj-KpO2xUqUGMg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.removeRecord(DefaultRecordStore.java:1034)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
23:10:22.059 [XNIO-1 task-3]  yelw-lyWTHK-xPnfzsnfjA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:210)
23:10:22.060 [XNIO-1 task-3]  yelw-lyWTHK-xPnfzsnfjA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", "Basic MzQ1NTQ0MjUtZjgzYS00ZTVjLWExMjAtYWZlOWY3Mjg1NjJkOmxzOGdPOGpUUnB1RmpMLVFaVmd3aGc=", authorization)
23:10:22.060 [XNIO-1 task-3]  yelw-lyWTHK-xPnfzsnfjA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.068 [XNIO-1 task-3]  yelw-lyWTHK-xPnfzsnfjA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.068 [XNIO-1 task-3]  yelw-lyWTHK-xPnfzsnfjA INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.076 [XNIO-1 task-3]  Plec7qVbTpar9RMvrsQY7w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
23:10:22.076 [XNIO-1 task-3]  Plec7qVbTpar9RMvrsQY7w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
23:10:22.076 [XNIO-1 task-3]  Plec7qVbTpar9RMvrsQY7w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token

23:10:22.076 [XNIO-1 task-3]  Plec7qVbTpar9RMvrsQY7w DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MzUxMmU4OTctOGQyNi00N2FmLThhYWYtYTliNjQwYmI4MjU3OjAxMW8tNHU0UURlU2JvTUZTTkMyb1E=", "Basic MzUxMmU4OTctOGQyNi00N2FmLThhYWYtYTliNjQwYmI4MjU3OjAxMW8tNHU0UURlU2JvTUZTTkMyb1E=", authorization)
23:10:22.078 [hz._hzInstance_1_dev.partition-operation.thread-5]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:cc5553e1
23:10:22.078 [hz._hzInstance_1_dev.partition-operation.thread-5]   DEBUG c.n.oauth.cache.ServiceMapStore load - Load:cc5553e1
23:10:22.081 [XNIO-1 task-3]  Plec7qVbTpar9RMvrsQY7w INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.084 [XNIO-1 task-3]  6hbvTukrRnm4u-tDS2Z__g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.084 [XNIO-1 task-3]  6hbvTukrRnm4u-tDS2Z__g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.084 [XNIO-1 task-3]  6hbvTukrRnm4u-tDS2Z__g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.084 [XNIO-1 task-3]  6hbvTukrRnm4u-tDS2Z__g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = EkfKs5DlR72JwZ5NryFq7w redirectUri = http://localhost:8080/authorization
23:10:22.086 [XNIO-1 task-2]  0UPvIiFuRky7J6scX0ackA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.086 [XNIO-1 task-2]  0UPvIiFuRky7J6scX0ackA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.086 [XNIO-1 task-2]  0UPvIiFuRky7J6scX0ackA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.086 [XNIO-1 task-2]  0UPvIiFuRky7J6scX0ackA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.091 [XNIO-1 task-2]  0UPvIiFuRky7J6scX0ackA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.092 [XNIO-1 task-3]  6hbvTukrRnm4u-tDS2Z__g DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.100 [XNIO-1 task-3]  rScNX6BCT36cveixh8ot6w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.100 [XNIO-1 task-3]  rScNX6BCT36cveixh8ot6w DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.101 [XNIO-1 task-3]  rScNX6BCT36cveixh8ot6w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.101 [XNIO-1 task-3]  rScNX6BCT36cveixh8ot6w DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:22.106 [XNIO-1 task-2]  MjpsRAayQzq4cA1DEpHh0Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.106 [XNIO-1 task-2]  MjpsRAayQzq4cA1DEpHh0Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.106 [XNIO-1 task-3]  rScNX6BCT36cveixh8ot6w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.106 [XNIO-1 task-2]  MjpsRAayQzq4cA1DEpHh0Q DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.106 [XNIO-1 task-2]  MjpsRAayQzq4cA1DEpHh0Q DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:22.107 [XNIO-1 task-4]  ZdAhvqFLQkaOOu8dUal3sg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.108 [XNIO-1 task-4]  ZdAhvqFLQkaOOu8dUal3sg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
Jun 28, 2024 11:10:23 PM com.hazelcast.map.impl.operation.DeleteOperation
SEVERE: [172.24.0.9]:5701 [dev] [3.12] java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
23:10:22.108 [XNIO-1 task-4]  ZdAhvqFLQkaOOu8dUal3sg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = j6BwLdmSTbSDSWtxwbCuFw redirectUri = http://localhost:8080/authorization
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:36)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:19)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:56)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
23:10:22.110 [XNIO-1 task-3]  8KTxTMVeTEqma3ajtcoWMA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:22.110 [XNIO-1 task-3]  8KTxTMVeTEqma3ajtcoWMA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.map.impl.operation.DeleteOperation.run(DeleteOperation.java:44)
23:10:22.117 [XNIO-1 task-4]  ZdAhvqFLQkaOOu8dUal3sg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:22.117 [XNIO-1 task-4]  ZdAhvqFLQkaOOu8dUal3sg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.117 [XNIO-1 task-4]  ZdAhvqFLQkaOOu8dUal3sg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.121 [XNIO-1 task-3]  Hy7Vq-ZMSKWyXo18FKHwgw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.122 [XNIO-1 task-3]  Hy7Vq-ZMSKWyXo18FKHwgw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:123)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`oauth2`.`refresh_token`, CONSTRAINT `refresh_token_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `client` (`client_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
23:10:22.123 [XNIO-1 task-2]  MjpsRAayQzq4cA1DEpHh0Q DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.129 [XNIO-1 task-3]  Hy7Vq-ZMSKWyXo18FKHwgw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
23:10:22.134 [XNIO-1 task-2]  -yc4MZrZS02Sx5YEZV9qJw DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:955)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1042)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1027)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	... 14 more

23:10:22.141 [XNIO-1 task-2]  -yc4MZrZS02Sx5YEZV9qJw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.151 [XNIO-1 task-2]  nVVgzb8DTc-IEPdWpptzKw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.151 [XNIO-1 task-2]  nVVgzb8DTc-IEPdWpptzKw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.151 [XNIO-1 task-2]  nVVgzb8DTc-IEPdWpptzKw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.151 [XNIO-1 task-2]  nVVgzb8DTc-IEPdWpptzKw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", "Basic ODQyYWMyNTMtZGIxZS00MzUxLTg1NjUtYWM4MzNjNDFiZjliOjJMR0hSV0VFUXllZV81Y0hocnFlZXc=", authorization)
23:10:22.156 [XNIO-1 task-2]  nVVgzb8DTc-IEPdWpptzKw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.162 [XNIO-1 task-2]  tdjuWh4zQYC5E-KUBJRhEg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.162 [XNIO-1 task-2]  tdjuWh4zQYC5E-KUBJRhEg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.162 [XNIO-1 task-2]  tdjuWh4zQYC5E-KUBJRhEg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.162 [XNIO-1 task-2]  tdjuWh4zQYC5E-KUBJRhEg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NGM1Y2ViNzYtN2U5Ny00N2UzLWJlNDYtMDJhMTIzNjUyNDIyOnd4WUFLRHRTUmwtd3pjWGZNNXA2NGc=", "Basic NGM1Y2ViNzYtN2U5Ny00N2UzLWJlNDYtMDJhMTIzNjUyNDIyOnd4WUFLRHRTUmwtd3pjWGZNNXA2NGc=", authorization)
23:10:22.167 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.ClientMapStore delete - Delete:3da01439-ca85-4fe4-bab3-12dc3986499c
23:10:22.168 [XNIO-1 task-2]  tdjuWh4zQYC5E-KUBJRhEg INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.170 [hz._hzInstance_1_dev.partition-operation.thread-0]   ERROR c.n.oauth.cache.ClientMapStore delete - Exception:
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1094)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1345)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.networknt.oauth.cache.ClientMapStore.delete(ClientMapStore.java:33)
	at com.hazelcast.map.impl.MapStoreWrapper.delete(MapStoreWrapper.java:115)
	at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.remove(WriteThroughStore.java:28)
	at com.hazelcast.map.impl.recordstore.DefaultRecordStore.delete(DefaultRecordStore.java:455)
	at com.hazelcast.spi.Operation.call(Operation.java:170)
	at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:199)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:153)
	at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)
23:10:22.170 [XNIO-1 task-2]  cK6GikkOT1a9P14XH8g6Cg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.170 [XNIO-1 task-2]  cK6GikkOT1a9P14XH8g6Cg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.170 [XNIO-1 task-2]  cK6GikkOT1a9P14XH8g6Cg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", authorization)
23:10:22.175 [XNIO-1 task-3]  BGxnfccoRViTCxyj7kOcPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.175 [XNIO-1 task-3]  BGxnfccoRViTCxyj7kOcPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.175 [XNIO-1 task-3]  BGxnfccoRViTCxyj7kOcPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.175 [XNIO-1 task-3]  BGxnfccoRViTCxyj7kOcPQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NGM1Y2ViNzYtN2U5Ny00N2UzLWJlNDYtMDJhMTIzNjUyNDIyOnd4WUFLRHRTUmwtd3pjWGZNNXA2NGc=", "Basic NGM1Y2ViNzYtN2U5Ny00N2UzLWJlNDYtMDJhMTIzNjUyNDIyOnd4WUFLRHRTUmwtd3pjWGZNNXA2NGc=", authorization)
23:10:22.180 [XNIO-1 task-2]  cK6GikkOT1a9P14XH8g6Cg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:22.182 [XNIO-1 task-3]  BGxnfccoRViTCxyj7kOcPQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.184 [XNIO-1 task-2]  6mhny7y7Qa6sTo-EPIsFkw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.184 [XNIO-1 task-2]  6mhny7y7Qa6sTo-EPIsFkw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.184 [XNIO-1 task-2]  6mhny7y7Qa6sTo-EPIsFkw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.185 [XNIO-1 task-2]  6mhny7y7Qa6sTo-EPIsFkw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", "Basic OWUwMTI5NzgtMDE2ZS00ZjkzLTg2MDMtNDcwM2MzMzI4OWFkOnJUUjdnREYwVHBtU0tIUjFyV1pVM0E=", authorization)
23:10:22.190 [XNIO-1 task-2]  6mhny7y7Qa6sTo-EPIsFkw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:22.190 [XNIO-1 task-2]  6mhny7y7Qa6sTo-EPIsFkw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.190 [XNIO-1 task-3]  65NGSrOUR7amOozyxaPiAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.191 [XNIO-1 task-3]  65NGSrOUR7amOozyxaPiAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.191 [XNIO-1 task-3]  65NGSrOUR7amOozyxaPiAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.191 [XNIO-1 task-3]  65NGSrOUR7amOozyxaPiAQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.196 [XNIO-1 task-3]  65NGSrOUR7amOozyxaPiAQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.200 [XNIO-1 task-3]  iWwCKVqnRzK4JvdDKouyCQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.200 [XNIO-1 task-3]  iWwCKVqnRzK4JvdDKouyCQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.200 [XNIO-1 task-3]  iWwCKVqnRzK4JvdDKouyCQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.200 [XNIO-1 task-3]  iWwCKVqnRzK4JvdDKouyCQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.206 [XNIO-1 task-3]  iWwCKVqnRzK4JvdDKouyCQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.207 [XNIO-1 task-2]  kfG1R9H1QfekmlX1F7mtQA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.208 [XNIO-1 task-2]  kfG1R9H1QfekmlX1F7mtQA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.208 [XNIO-1 task-2]  kfG1R9H1QfekmlX1F7mtQA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.208 [XNIO-1 task-2]  kfG1R9H1QfekmlX1F7mtQA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = sert5kfjSHSyA35EggT91g redirectUri = http://localhost:8080/authorization
23:10:22.211 [XNIO-1 task-3]  Im36gWFOS-mftIh_3eI_nA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.211 [XNIO-1 task-3]  Im36gWFOS-mftIh_3eI_nA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.211 [XNIO-1 task-3]  Im36gWFOS-mftIh_3eI_nA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.213 [XNIO-1 task-3]  Im36gWFOS-mftIh_3eI_nA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleRefreshToken - refreshToken = 8b57ebe8-5ccd-465a-866b-8eda5b39318f scope = null
23:10:22.214 [XNIO-1 task-4]  e6LuTQzXT1Kc5NcC3DnalQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.214 [XNIO-1 task-2]  kfG1R9H1QfekmlX1F7mtQA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.214 [XNIO-1 task-4]  e6LuTQzXT1Kc5NcC3DnalQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.214 [XNIO-1 task-4]  e6LuTQzXT1Kc5NcC3DnalQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.214 [XNIO-1 task-4]  e6LuTQzXT1Kc5NcC3DnalQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NGM1Y2ViNzYtN2U5Ny00N2UzLWJlNDYtMDJhMTIzNjUyNDIyOnd4WUFLRHRTUmwtd3pjWGZNNXA2NGc=", "Basic NGM1Y2ViNzYtN2U5Ny00N2UzLWJlNDYtMDJhMTIzNjUyNDIyOnd4WUFLRHRTUmwtd3pjWGZNNXA2NGc=", authorization)
23:10:22.221 [XNIO-1 task-4]  e6LuTQzXT1Kc5NcC3DnalQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.226 [XNIO-1 task-4]  -1VDgcp3TUKQd-j6qM2gDg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.227 [XNIO-1 task-4]  -1VDgcp3TUKQd-j6qM2gDg DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.227 [XNIO-1 task-4]  -1VDgcp3TUKQd-j6qM2gDg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.227 [XNIO-1 task-4]  -1VDgcp3TUKQd-j6qM2gDg DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MmNiNDk2YTctMDZjYy00Y2UwLThmMjYtYzM1ZTRkMjkzZmRjOmg2ekpaSFFFUjktUU0zV0ltQzd1M2c=", "Basic MmNiNDk2YTctMDZjYy00Y2UwLThmMjYtYzM1ZTRkMjkzZmRjOmg2ekpaSFFFUjktUU0zV0ltQzd1M2c=", authorization)
23:10:22.231 [XNIO-1 task-3]  Im36gWFOS-mftIh_3eI_nA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.232 [XNIO-1 task-4]  -1VDgcp3TUKQd-j6qM2gDg DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.241 [XNIO-1 task-4]  RTdo1EW-R8agsmY3KlOkvw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.241 [XNIO-1 task-4]  RTdo1EW-R8agsmY3KlOkvw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.241 [XNIO-1 task-4]  RTdo1EW-R8agsmY3KlOkvw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.241 [XNIO-1 task-3]  rgwxFCPUSmK-avm6BWFMDw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.241 [XNIO-1 task-3]  rgwxFCPUSmK-avm6BWFMDw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.241 [XNIO-1 task-4]  RTdo1EW-R8agsmY3KlOkvw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MmNiNDk2YTctMDZjYy00Y2UwLThmMjYtYzM1ZTRkMjkzZmRjOmg2ekpaSFFFUjktUU0zV0ltQzd1M2c=", "Basic MmNiNDk2YTctMDZjYy00Y2UwLThmMjYtYzM1ZTRkMjkzZmRjOmg2ekpaSFFFUjktUU0zV0ltQzd1M2c=", authorization)
23:10:22.241 [XNIO-1 task-3]  rgwxFCPUSmK-avm6BWFMDw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.241 [XNIO-1 task-3]  rgwxFCPUSmK-avm6BWFMDw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZWZiNTU5YmMtN2ZjNi00Y2I5LTgyYWUtYWMwMzZjZDY4NDk4OnJNWGlTQm9sVDRXRWNfUjNaTE1Wb2c=", "Basic ZWZiNTU5YmMtN2ZjNi00Y2I5LTgyYWUtYWMwMzZjZDY4NDk4OnJNWGlTQm9sVDRXRWNfUjNaTE1Wb2c=", authorization)
23:10:22.247 [XNIO-1 task-4]  RTdo1EW-R8agsmY3KlOkvw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.250 [XNIO-1 task-3]  rgwxFCPUSmK-avm6BWFMDw DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:22.251 [XNIO-1 task-3]  rgwxFCPUSmK-avm6BWFMDw INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.253 [XNIO-1 task-4]  KnVt1a6RRmO871P53uU4_Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.253 [XNIO-1 task-4]  KnVt1a6RRmO871P53uU4_Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.253 [XNIO-1 task-4]  KnVt1a6RRmO871P53uU4_Q DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.253 [XNIO-1 task-4]  KnVt1a6RRmO871P53uU4_Q DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.258 [XNIO-1 task-4]  KnVt1a6RRmO871P53uU4_Q INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.260 [XNIO-1 task-4]  g9c1VGRyQPq3oSOa_i6Nng DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.260 [XNIO-1 task-4]  g9c1VGRyQPq3oSOa_i6Nng DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.260 [XNIO-1 task-4]  g9c1VGRyQPq3oSOa_i6Nng DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.260 [XNIO-1 task-4]  g9c1VGRyQPq3oSOa_i6Nng DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = VlpV4tNwTeS17GsS1C9brw redirectUri = http://localhost:8080/authorization
23:10:22.263 [XNIO-1 task-3]  xYso1HA6SW2LRbJ71KvXvA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.263 [XNIO-1 task-3]  xYso1HA6SW2LRbJ71KvXvA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.263 [XNIO-1 task-3]  xYso1HA6SW2LRbJ71KvXvA DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.264 [XNIO-1 task-3]  xYso1HA6SW2LRbJ71KvXvA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.268 [XNIO-1 task-4]  g9c1VGRyQPq3oSOa_i6Nng DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.269 [XNIO-1 task-3]  xYso1HA6SW2LRbJ71KvXvA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.277 [XNIO-1 task-4]  7NWTh_e4RAuRk_AsqFpLqA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.277 [XNIO-1 task-4]  7NWTh_e4RAuRk_AsqFpLqA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.277 [XNIO-1 task-4]  7NWTh_e4RAuRk_AsqFpLqA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.277 [XNIO-1 task-4]  7NWTh_e4RAuRk_AsqFpLqA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NGFjZmVkODktOWYxNi00ZDBjLTlmMWYtYjgwMzhiMjgyMTBjOmttWHpBcGhOUkkyUzNaNlFOQjhGTnc=", "Basic NGFjZmVkODktOWYxNi00ZDBjLTlmMWYtYjgwMzhiMjgyMTBjOmttWHpBcGhOUkkyUzNaNlFOQjhGTnc=", authorization)
23:10:22.281 [XNIO-1 task-3]  BItYHwreTQaImeZ0sC3vAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.281 [XNIO-1 task-3]  BItYHwreTQaImeZ0sC3vAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.281 [XNIO-1 task-3]  BItYHwreTQaImeZ0sC3vAQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.281 [XNIO-1 task-3]  BItYHwreTQaImeZ0sC3vAQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:22.283 [XNIO-1 task-4]  7NWTh_e4RAuRk_AsqFpLqA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:22.287 [XNIO-1 task-3]  BItYHwreTQaImeZ0sC3vAQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.291 [hz._hzInstance_1_dev.partition-operation.thread-8]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:c98f0a08-340b-4246-bc7a-db6333599ff1
23:10:22.291 [hz._hzInstance_1_dev.partition-operation.thread-8]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:c98f0a08-340b-4246-bc7a-db6333599ff1
23:10:22.293 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.295 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.295 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.295 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.295 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.295 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.295 [XNIO-1 task-3]  ELKClQIpSWme1JqrC8T1Aw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:22.295 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = P9LBYFGGS56rjB8znnCgrQ redirectUri = http://localhost:8080/authorization
23:10:22.300 [XNIO-1 task-3]  ELKClQIpSWme1JqrC8T1Aw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.301 [XNIO-1 task-4]  uEMklbd2Q2KkSW8giih7ZQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:22.310 [XNIO-1 task-3]  epVxlctKS_6y6-MNsdVhaA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.310 [XNIO-1 task-3]  epVxlctKS_6y6-MNsdVhaA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.310 [XNIO-1 task-3]  epVxlctKS_6y6-MNsdVhaA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.310 [XNIO-1 task-3]  epVxlctKS_6y6-MNsdVhaA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", "Basic ZmMxYjEwNjQtNTk5MS00MmVjLWJmOTQtMDM4NGJhNDMxNWM1Ok1JZzRncE1wUkllTU16cENlZ1lGbUE=", authorization)
23:10:22.315 [XNIO-1 task-3]  epVxlctKS_6y6-MNsdVhaA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.322 [XNIO-1 task-3]  uoLZeF_RQoiwfWRcvSyX4w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.322 [XNIO-1 task-3]  uoLZeF_RQoiwfWRcvSyX4w DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.322 [XNIO-1 task-3]  uoLZeF_RQoiwfWRcvSyX4w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.322 [hz._hzInstance_1_dev.partition-operation.thread-5]   DEBUG c.n.o.cache.ServiceEndpointMapStore delete - Delete:cc5553e1
23:10:22.323 [hz._hzInstance_1_dev.partition-operation.thread-5]   DEBUG c.n.oauth.cache.ServiceMapStore delete - Delete:cc5553e1
23:10:22.326 [XNIO-1 task-4]  MCwxARYNTRSRuCwWmRmu_g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.326 [XNIO-1 task-4]  MCwxARYNTRSRuCwWmRmu_g DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.326 [XNIO-1 task-4]  MCwxARYNTRSRuCwWmRmu_g DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.327 [XNIO-1 task-4]  MCwxARYNTRSRuCwWmRmu_g DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MWI3ZDQzYmQtNGUyYy00ZDhlLWFhYTUtOTBkNGMwYzkzZmUyOl9ma2o4QWd3UjJtb09zNTMzcE5oNEE=", "Basic MWI3ZDQzYmQtNGUyYy00ZDhlLWFhYTUtOTBkNGMwYzkzZmUyOl9ma2o4QWd3UjJtb09zNTMzcE5oNEE=", authorization)
23:10:22.328 [XNIO-1 task-3]  uoLZeF_RQoiwfWRcvSyX4w DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:22.332 [XNIO-1 task-4]  MCwxARYNTRSRuCwWmRmu_g DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.338 [XNIO-1 task-4]  0Jckq137Tx-9W5pVXA60yw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.339 [XNIO-1 task-4]  0Jckq137Tx-9W5pVXA60yw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.339 [XNIO-1 task-4]  0Jckq137Tx-9W5pVXA60yw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.339 [XNIO-1 task-4]  0Jckq137Tx-9W5pVXA60yw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", authorization)
23:10:22.342 [XNIO-1 task-3]  bh04qTIBR-u7FW1lR4doiQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.342 [XNIO-1 task-3]  bh04qTIBR-u7FW1lR4doiQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.342 [XNIO-1 task-3]  bh04qTIBR-u7FW1lR4doiQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.343 [XNIO-1 task-3]  bh04qTIBR-u7FW1lR4doiQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", authorization)
23:10:22.345 [XNIO-1 task-4]  0Jckq137Tx-9W5pVXA60yw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.349 [XNIO-1 task-3]  bh04qTIBR-u7FW1lR4doiQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:22.349 [XNIO-1 task-3]  bh04qTIBR-u7FW1lR4doiQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.354 [XNIO-1 task-4]  TFtxary6Sc6fJ_xyQ28MQA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.354 [XNIO-1 task-4]  TFtxary6Sc6fJ_xyQ28MQA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.354 [XNIO-1 task-4]  TFtxary6Sc6fJ_xyQ28MQA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.354 [XNIO-1 task-4]  TFtxary6Sc6fJ_xyQ28MQA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", authorization)
23:10:22.359 [XNIO-1 task-2]  6SrfeuaqT9uaIsbFGPHCsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.359 [XNIO-1 task-2]  6SrfeuaqT9uaIsbFGPHCsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.360 [XNIO-1 task-2]  6SrfeuaqT9uaIsbFGPHCsQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.360 [XNIO-1 task-2]  6SrfeuaqT9uaIsbFGPHCsQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZmQ5OGZmZTUtMzBjZS00YWM1LTkyOGItMDg2MjkzNWI3NjMzOmZfZ1ZxLWFZU2g2dW92RHJLZF9uN1E=", "Basic ZmQ5OGZmZTUtMzBjZS00YWM1LTkyOGItMDg2MjkzNWI3NjMzOmZfZ1ZxLWFZU2g2dW92RHJLZF9uN1E=", authorization)
23:10:22.360 [XNIO-1 task-4]  TFtxary6Sc6fJ_xyQ28MQA DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.366 [XNIO-1 task-2]  6SrfeuaqT9uaIsbFGPHCsQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:22.367 [XNIO-1 task-2]  Z3-HJKPEQB2DHf3OUABliw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.367 [XNIO-1 task-2]  Z3-HJKPEQB2DHf3OUABliw DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.367 [XNIO-1 task-2]  Z3-HJKPEQB2DHf3OUABliw DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.367 [XNIO-1 task-2]  Z3-HJKPEQB2DHf3OUABliw DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", "Basic Mzk5YWEzZjYtNmNjMi00ZWVlLWI5NjMtMTc0MGE1OGRlOTdhOkVFN213dExlVHg2am1xdGEtdkl4Q1E=", authorization)
23:10:22.368 [XNIO-1 task-4]  7vRT3VkBQ06S7-WAOG-CxQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.368 [XNIO-1 task-4]  7vRT3VkBQ06S7-WAOG-CxQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.368 [XNIO-1 task-4]  7vRT3VkBQ06S7-WAOG-CxQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.368 [XNIO-1 task-4]  7vRT3VkBQ06S7-WAOG-CxQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", "Basic M2RhMDE0MzktY2E4NS00ZmU0LWJhYjMtMTJkYzM5ODY0OTljOlZYLWRFaHFTUzNLbXFWb096cWRqWHc=", authorization)
23:10:22.374 [XNIO-1 task-4]  7vRT3VkBQ06S7-WAOG-CxQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.381 [XNIO-1 task-2]  Z3-HJKPEQB2DHf3OUABliw DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.383 [XNIO-1 task-4]  nhKBoiTzT1GdXVg6n2suNQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.383 [XNIO-1 task-4]  nhKBoiTzT1GdXVg6n2suNQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.383 [hz._hzInstance_1_dev.partition-operation.thread-8]   DEBUG c.n.oauth.cache.RefreshTokenMapStore load - Load:8dd3b314-71a1-47d3-874b-5ea7eea8c2ec
23:10:22.383 [XNIO-1 task-4]  nhKBoiTzT1GdXVg6n2suNQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.383 [XNIO-1 task-4]  nhKBoiTzT1GdXVg6n2suNQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.384 [hz._hzInstance_1_dev.partition-operation.thread-8]   DEBUG c.n.oauth.cache.RefreshTokenMapStore load - Load:8dd3b314-71a1-47d3-874b-5ea7eea8c2ec
23:10:22.388 [XNIO-1 task-3]  iC_kwp5AQUeVBNYDJgimwg DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.388 [XNIO-1 task-4]  nhKBoiTzT1GdXVg6n2suNQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.388 [XNIO-1 task-3]  iC_kwp5AQUeVBNYDJgimwg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.388 [XNIO-1 task-3]  iC_kwp5AQUeVBNYDJgimwg DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.389 [XNIO-1 task-3]  iC_kwp5AQUeVBNYDJgimwg DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = LXqt2gIQREarWMviG9BuMw redirectUri = http://localhost:8080/authorization
23:10:22.394 [XNIO-1 task-4]  hyBIAkbkS0qjQjL0jjQtzQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.394 [XNIO-1 task-4]  hyBIAkbkS0qjQjL0jjQtzQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.395 [XNIO-1 task-3]  iC_kwp5AQUeVBNYDJgimwg ERROR c.n.o.t.h.Oauth2TokenPostHandler handleRequest - ApiException
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleAuthorizationCode(Oauth2TokenPostHandler.java:231)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.ValidatorHandler.handleRequest(ValidatorHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.audit.AuditHandler.handleRequest(AuditHandler.java:181)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.openapi.OpenApiHandler.handleRequest(OpenApiHandler.java:131)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.traceability.TraceabilityHandler.handleRequest(TraceabilityHandler.java:68)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)
	at java.base/java.lang.Thread.run(Unknown Source)
23:10:22.395 [XNIO-1 task-4]  hyBIAkbkS0qjQjL0jjQtzQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.396 [XNIO-1 task-4]  hyBIAkbkS0qjQjL0jjQtzQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.401 [XNIO-1 task-4]  hyBIAkbkS0qjQjL0jjQtzQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.409 [XNIO-1 task-4]  S-Ia1RoFR5qVCje_z3JHlQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.409 [XNIO-1 task-4]  S-Ia1RoFR5qVCje_z3JHlQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.410 [XNIO-1 task-4]  S-Ia1RoFR5qVCje_z3JHlQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.410 [XNIO-1 task-4]  S-Ia1RoFR5qVCje_z3JHlQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.415 [XNIO-1 task-4]  S-Ia1RoFR5qVCje_z3JHlQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.422 [XNIO-1 task-4]  qYe9ohE2QgqFV3G-MA4ZPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.422 [XNIO-1 task-4]  qYe9ohE2QgqFV3G-MA4ZPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.422 [XNIO-1 task-4]  qYe9ohE2QgqFV3G-MA4ZPQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.422 [XNIO-1 task-4]  qYe9ohE2QgqFV3G-MA4ZPQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", "Basic ODg2YzNmNmMtZThhNi00N2QyLWIyYzEtYThiZjNiNWJlYWEyOlR1WFRhNklKUXZDLXluRkxLNVBjTUE=", authorization)
23:10:22.428 [XNIO-1 task-2]  BBZMxWZLQzCt4nfr5ELjJQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.428 [XNIO-1 task-2]  BBZMxWZLQzCt4nfr5ELjJQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.428 [XNIO-1 task-2]  BBZMxWZLQzCt4nfr5ELjJQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.429 [XNIO-1 task-2]  BBZMxWZLQzCt4nfr5ELjJQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic MDE1NzM0YWYtMjkzYi00MmYxLTlmODUtOTkxOGE1ZDhmOGVhOkE0Y1RMNFZlUUJpUS1CRXpPS2k3VkE=", "Basic MDE1NzM0YWYtMjkzYi00MmYxLTlmODUtOTkxOGE1ZDhmOGVhOkE0Y1RMNFZlUUJpUS1CRXpPS2k3VkE=", authorization)
23:10:22.434 [XNIO-1 task-2]  BBZMxWZLQzCt4nfr5ELjJQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.436 [XNIO-1 task-4]  qYe9ohE2QgqFV3G-MA4ZPQ DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.440 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:132142e4-6042-4178-a61a-ab0587aa1e01
23:10:22.441 [XNIO-1 task-2]  OKhbrZBoS4SZ_N7mizWl8g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.441 [XNIO-1 task-2]  OKhbrZBoS4SZ_N7mizWl8g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.441 [XNIO-1 task-2]  OKhbrZBoS4SZ_N7mizWl8g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.442 [XNIO-1 task-2]  OKhbrZBoS4SZ_N7mizWl8g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.442 [hz._hzInstance_1_dev.partition-operation.thread-0]   DEBUG c.n.oauth.cache.ClientMapStore load - Load:132142e4-6042-4178-a61a-ab0587aa1e01
23:10:22.447 [XNIO-1 task-2]  OKhbrZBoS4SZ_N7mizWl8g INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.456 [XNIO-1 task-4]  bRNpvqOuTyilwZ69hFqAwQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.456 [XNIO-1 task-4]  bRNpvqOuTyilwZ69hFqAwQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.456 [XNIO-1 task-4]  bRNpvqOuTyilwZ69hFqAwQ DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.457 [XNIO-1 task-4]  bRNpvqOuTyilwZ69hFqAwQ DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleClientCredentials - scope = null
23:10:22.461 [XNIO-1 task-4]  bRNpvqOuTyilwZ69hFqAwQ INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.463 [XNIO-1 task-2]  IYaSzzVZTFmJSZVeb2oN0g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.463 [XNIO-1 task-2]  IYaSzzVZTFmJSZVeb2oN0g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.463 [XNIO-1 task-2]  IYaSzzVZTFmJSZVeb2oN0g DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.463 [XNIO-1 task-2]  IYaSzzVZTFmJSZVeb2oN0g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - code = FEPkgLCERqSN0fZUXv2CoA redirectUri = http://localhost:8080/authorization
23:10:22.470 [XNIO-1 task-4]  iziUEZ96SsOSZomMZnkU3w DEBUG c.n.openapi.ApiNormalisedPath <init> - normalised = /oauth2/token
23:10:22.470 [XNIO-1 task-2]  IYaSzzVZTFmJSZVeb2oN0g DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
23:10:22.470 [XNIO-1 task-2]  IYaSzzVZTFmJSZVeb2oN0g DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.470 [XNIO-1 task-2]  IYaSzzVZTFmJSZVeb2oN0g INFO  com.networknt.config.Config getConfigStream - Config loaded from externalized folder for primary.jks in /config
23:10:22.470 [XNIO-1 task-4]  iziUEZ96SsOSZomMZnkU3w DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:22.475 [XNIO-1 task-4]  iziUEZ96SsOSZomMZnkU3w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.476 [XNIO-1 task-3]  Ovf6atLLS0ajN5TC6eSKPA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.477 [XNIO-1 task-3]  Ovf6atLLS0ajN5TC6eSKPA DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.477 [XNIO-1 task-3]  Ovf6atLLS0ajN5TC6eSKPA DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.478 [XNIO-1 task-3]  Ovf6atLLS0ajN5TC6eSKPA DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", "Basic NjVkNDQ1OWEtOWM0Yy00Y2M0LWFmZTgtZTEwYmE1MzUwODFiOjBLSl9fd3lMU2ZLZUVKSXFlSXFaZVE=", authorization)
23:10:22.482 [XNIO-1 task-2]  r-yUe3onQm-704ULne7b4w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.482 [XNIO-1 task-2]  r-yUe3onQm-704ULne7b4w DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.482 [XNIO-1 task-2]  r-yUe3onQm-704ULne7b4w DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.482 [XNIO-1 task-2]  r-yUe3onQm-704ULne7b4w DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", "Basic NjIxZDA1MTYtOWZhYy00OGU3LWI3MWItYzg3NTlkMTk3ODg4OkJFcm9sZkdkVG1LSXZPQnVCZnRyTlE=", authorization)
23:10:22.484 [XNIO-1 task-3]  Ovf6atLLS0ajN5TC6eSKPA DEBUG c.n.o.t.h.Oauth2TokenPostHandler handleAuthorizationCode - variable from codeMap cache userId = admin redirectUri = http://localhost:8080/authorization scope = null userType = null roles = admin user remember = null
com.networknt.exception.ApiException: {"statusCode":400,"code":"ERR12040","message":"CODE_VERIFIER_MISSING","description":"PKCE codeVerifier is not specified","severity":"ERROR"}
	at com.networknt.oauth.token.handler.Oauth2TokenPostHandler.handleRequest(Oauth2TokenPostHandler.java:116)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.audit.AuditHandler.next(AuditHandler.java:192)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.body.BodyHandler.handleRequest(BodyHandler.java:124)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.correlation.CorrelationHandler.handleRequest(CorrelationHandler.java:77)
	at com.networknt.handler.Handler.next(Handler.java:233)
	at com.networknt.handler.Handler.next(Handler.java:212)
	at com.networknt.exception.ExceptionHandler.handleRequest(ExceptionHandler.java:76)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)
23:10:22.487 [XNIO-1 task-2]  r-yUe3onQm-704ULne7b4w DEBUG com.networknt.security.JwtIssuer getPrivateKey - filename = primary.jks key = selfsigned
23:10:22.494 [XNIO-1 task-2]  Lh35ZnIVRhyHC4exn83rSQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.494 [XNIO-1 task-2]  Lh35ZnIVRhyHC4exn83rSQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path =/oauth2/token
23:10:22.494 [XNIO-1 task-2]  Lh35ZnIVRhyHC4exn83rSQ DEBUG c.n.openapi.ApiNormalisedPath <init> - path = /oauth2/token, base path is set to: null
23:10:22.494 [XNIO-1 task-2]  Lh35ZnIVRhyHC4exn83rSQ DEBUG com.networknt.schema.TypeValidator debug - validate( "Basic ZDE5NDljMmYtZDQ0Ni00YWUwLWI2YWEtZGQwYmVkZTEzZDEzOll2cU5NMGJWUXVHWmNLQS1uN2pBOFE=", "Basic ZDE5NDljMmYtZDQ0Ni00YWUwLWI2YWEtZGQwYmVkZTEzZDEzOll2cU5NMGJWUXVHWmNLQS1uN2pBOFE=", authorization)
